"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/order/[id]",{

/***/ "./node_modules/@paypal/react-paypal-js/dist/esm/react-paypal-js.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@paypal/react-paypal-js/dist/esm/react-paypal-js.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BraintreePayPalButtons: function() { return /* binding */ BraintreePayPalButtons; },\n/* harmony export */   DISPATCH_ACTION: function() { return /* binding */ DISPATCH_ACTION; },\n/* harmony export */   FUNDING: function() { return /* binding */ FUNDING; },\n/* harmony export */   PAYPAL_HOSTED_FIELDS_TYPES: function() { return /* binding */ PAYPAL_HOSTED_FIELDS_TYPES; },\n/* harmony export */   PayPalButtons: function() { return /* binding */ PayPalButtons; },\n/* harmony export */   PayPalHostedField: function() { return /* binding */ PayPalHostedField; },\n/* harmony export */   PayPalHostedFieldsProvider: function() { return /* binding */ PayPalHostedFieldsProvider; },\n/* harmony export */   PayPalMarks: function() { return /* binding */ PayPalMarks; },\n/* harmony export */   PayPalMessages: function() { return /* binding */ PayPalMessages; },\n/* harmony export */   PayPalScriptProvider: function() { return /* binding */ PayPalScriptProvider; },\n/* harmony export */   SCRIPT_LOADING_STATE: function() { return /* binding */ SCRIPT_LOADING_STATE; },\n/* harmony export */   ScriptContext: function() { return /* binding */ ScriptContext; },\n/* harmony export */   destroySDKScript: function() { return /* binding */ destroySDKScript; },\n/* harmony export */   getScriptID: function() { return /* binding */ getScriptID; },\n/* harmony export */   scriptReducer: function() { return /* binding */ scriptReducer; },\n/* harmony export */   usePayPalHostedFields: function() { return /* binding */ usePayPalHostedFields; },\n/* harmony export */   usePayPalScriptReducer: function() { return /* binding */ usePayPalScriptReducer; },\n/* harmony export */   useScriptProviderContext: function() { return /* binding */ useScriptProviderContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/*!\n * react-paypal-js v8.1.3 (2023-08-16T17:57:48.377Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Enum for the SDK script resolve status,\n *\n * @enum {string}\n */\n\nvar SCRIPT_LOADING_STATE;\n\n(function (SCRIPT_LOADING_STATE) {\n  SCRIPT_LOADING_STATE[\"INITIAL\"] = \"initial\";\n  SCRIPT_LOADING_STATE[\"PENDING\"] = \"pending\";\n  SCRIPT_LOADING_STATE[\"REJECTED\"] = \"rejected\";\n  SCRIPT_LOADING_STATE[\"RESOLVED\"] = \"resolved\";\n})(SCRIPT_LOADING_STATE || (SCRIPT_LOADING_STATE = {}));\n/**\n * Enum for the PayPalScriptProvider context dispatch actions\n *\n * @enum {string}\n */\n\n\nvar DISPATCH_ACTION;\n\n(function (DISPATCH_ACTION) {\n  DISPATCH_ACTION[\"LOADING_STATUS\"] = \"setLoadingStatus\";\n  DISPATCH_ACTION[\"RESET_OPTIONS\"] = \"resetOptions\";\n  DISPATCH_ACTION[\"SET_BRAINTREE_INSTANCE\"] = \"braintreeInstance\";\n})(DISPATCH_ACTION || (DISPATCH_ACTION = {}));\n/**\n * Enum for all the available hosted fields\n *\n * @enum {string}\n */\n\n\nvar PAYPAL_HOSTED_FIELDS_TYPES;\n\n(function (PAYPAL_HOSTED_FIELDS_TYPES) {\n  PAYPAL_HOSTED_FIELDS_TYPES[\"NUMBER\"] = \"number\";\n  PAYPAL_HOSTED_FIELDS_TYPES[\"CVV\"] = \"cvv\";\n  PAYPAL_HOSTED_FIELDS_TYPES[\"EXPIRATION_DATE\"] = \"expirationDate\";\n  PAYPAL_HOSTED_FIELDS_TYPES[\"EXPIRATION_MONTH\"] = \"expirationMonth\";\n  PAYPAL_HOSTED_FIELDS_TYPES[\"EXPIRATION_YEAR\"] = \"expirationYear\";\n  PAYPAL_HOSTED_FIELDS_TYPES[\"POSTAL_CODE\"] = \"postalCode\";\n})(PAYPAL_HOSTED_FIELDS_TYPES || (PAYPAL_HOSTED_FIELDS_TYPES = {}));\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n/*********************************************\n * Common reference to the script identifier *\n *********************************************/\n// keep this script id value in kebab-case format\n\n\nvar SCRIPT_ID = \"data-react-paypal-script-id\";\nvar SDK_SETTINGS = {\n  DATA_CLIENT_TOKEN: \"dataClientToken\",\n  DATA_USER_ID_TOKEN: \"dataUserIdToken\",\n  DATA_SDK_INTEGRATION_SOURCE: \"dataSdkIntegrationSource\",\n  DATA_SDK_INTEGRATION_SOURCE_VALUE: \"react-paypal-js\",\n  DATA_NAMESPACE: \"dataNamespace\"\n};\nvar LOAD_SCRIPT_ERROR = \"Failed to load the PayPal JS SDK script.\";\n/****************************\n * Braintree error messages *\n ****************************/\n\nvar EMPTY_BRAINTREE_AUTHORIZATION_ERROR_MESSAGE = \"Invalid authorization data. Use dataClientToken or dataUserIdToken to authorize.\";\nvar braintreeVersion = \"3.84.0\";\nvar BRAINTREE_SOURCE = \"https://js.braintreegateway.com/web/\".concat(braintreeVersion, \"/js/client.min.js\");\nvar BRAINTREE_PAYPAL_CHECKOUT_SOURCE = \"https://js.braintreegateway.com/web/\".concat(braintreeVersion, \"/js/paypal-checkout.min.js\");\n/*********************\n * PayPal namespaces *\n *********************/\n\nvar DEFAULT_PAYPAL_NAMESPACE = \"paypal\";\nvar DEFAULT_BRAINTREE_NAMESPACE = \"braintree\";\n/*****************\n * Hosted Fields *\n *****************/\n\nvar HOSTED_FIELDS_CHILDREN_ERROR = \"To use HostedFields you must use it with at least 3 children with types: [number, cvv, expirationDate] includes\";\nvar HOSTED_FIELDS_DUPLICATE_CHILDREN_ERROR = \"Cannot use duplicate HostedFields as children\";\n/*******************\n * Script Provider *\n *******************/\n\nvar SCRIPT_PROVIDER_REDUCER_ERROR = \"usePayPalScriptReducer must be used within a PayPalScriptProvider\";\n/**\n * Get the namespace from the window in the browser\n * this is useful to get the paypal object from window\n * after load PayPal SDK script\n *\n * @param namespace the name space to return\n * @returns the namespace if exists or undefined otherwise\n */\n\nfunction getPayPalWindowNamespace$1(namespace) {\n  if (namespace === void 0) {\n    namespace = DEFAULT_PAYPAL_NAMESPACE;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return window[namespace];\n}\n/**\n * Get a namespace from the window in the browser\n * this is useful to get the braintree from window\n * after load Braintree script\n *\n * @param namespace the name space to return\n * @returns the namespace if exists or undefined otherwise\n */\n\n\nfunction getBraintreeWindowNamespace(namespace) {\n  if (namespace === void 0) {\n    namespace = DEFAULT_BRAINTREE_NAMESPACE;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  return window[namespace];\n}\n/**\n * Creates a string hash code based on the string argument\n *\n * @param str the source input string to hash\n * @returns string hash code\n */\n\n\nfunction hashStr(str) {\n  var hash = \"\";\n\n  for (var i = 0; i < str.length; i++) {\n    var total = str[i].charCodeAt(0) * i;\n\n    if (str[i + 1]) {\n      total += str[i + 1].charCodeAt(0) * (i - 1);\n    }\n\n    hash += String.fromCharCode(97 + Math.abs(total) % 26);\n  }\n\n  return hash;\n}\n\nfunction generateErrorMessage(_a) {\n  var reactComponentName = _a.reactComponentName,\n      sdkComponentKey = _a.sdkComponentKey,\n      _b = _a.sdkRequestedComponents,\n      sdkRequestedComponents = _b === void 0 ? \"\" : _b,\n      _c = _a.sdkDataNamespace,\n      sdkDataNamespace = _c === void 0 ? DEFAULT_PAYPAL_NAMESPACE : _c;\n  var requiredOptionCapitalized = sdkComponentKey.charAt(0).toUpperCase().concat(sdkComponentKey.substring(1));\n  var errorMessage = \"Unable to render <\".concat(reactComponentName, \" /> because window.\").concat(sdkDataNamespace, \".\").concat(requiredOptionCapitalized, \" is undefined.\"); // The JS SDK only loads the buttons component by default.\n  // All other components like messages and marks must be requested using the \"components\" query parameter\n\n  if (!sdkRequestedComponents.includes(sdkComponentKey)) {\n    var expectedComponents = [sdkRequestedComponents, sdkComponentKey].filter(Boolean).join();\n    errorMessage += \"\\nTo fix the issue, add '\".concat(sdkComponentKey, \"' to the list of components passed to the parent PayPalScriptProvider:\") + \"\\n`<PayPalScriptProvider options={{ components: '\".concat(expectedComponents, \"'}}>`.\");\n  }\n\n  return errorMessage;\n}\n/**\n * Generate a new random identifier for react-paypal-js\n *\n * @returns the {@code string} containing the random library name\n */\n\n\nfunction getScriptID(options) {\n  // exclude the data-react-paypal-script-id value from the options hash\n  var _a = options,\n      _b = SCRIPT_ID;\n  _a[_b];\n\n  var paypalScriptOptions = __rest(_a, [_b + \"\"]);\n\n  return \"react-paypal-js-\".concat(hashStr(JSON.stringify(paypalScriptOptions)));\n}\n/**\n * Destroy the PayPal SDK from the document page\n *\n * @param reactPayPalScriptID the script identifier\n */\n\n\nfunction destroySDKScript(reactPayPalScriptID) {\n  var scriptNode = self.document.querySelector(\"script[\".concat(SCRIPT_ID, \"=\\\"\").concat(reactPayPalScriptID, \"\\\"]\"));\n\n  if (scriptNode === null || scriptNode === void 0 ? void 0 : scriptNode.parentNode) {\n    scriptNode.parentNode.removeChild(scriptNode);\n  }\n}\n/**\n * Reducer function to handle complex state changes on the context\n *\n * @param state  the current state on the context object\n * @param action the action to be executed on the previous state\n * @returns a the same state if the action wasn't found, or a new state otherwise\n */\n\n\nfunction scriptReducer(state, action) {\n  var _a, _b;\n\n  switch (action.type) {\n    case DISPATCH_ACTION.LOADING_STATUS:\n      if (typeof action.value === \"object\") {\n        return __assign(__assign({}, state), {\n          loadingStatus: action.value.state,\n          loadingStatusErrorMessage: action.value.message\n        });\n      }\n\n      return __assign(__assign({}, state), {\n        loadingStatus: action.value\n      });\n\n    case DISPATCH_ACTION.RESET_OPTIONS:\n      // destroy existing script to make sure only one script loads at a time\n      destroySDKScript(state.options[SCRIPT_ID]);\n      return __assign(__assign({}, state), {\n        loadingStatus: SCRIPT_LOADING_STATE.PENDING,\n        options: __assign(__assign((_a = {}, _a[SDK_SETTINGS.DATA_SDK_INTEGRATION_SOURCE] = SDK_SETTINGS.DATA_SDK_INTEGRATION_SOURCE_VALUE, _a), action.value), (_b = {}, _b[SCRIPT_ID] = \"\".concat(getScriptID(action.value)), _b))\n      });\n\n    case DISPATCH_ACTION.SET_BRAINTREE_INSTANCE:\n      return __assign(__assign({}, state), {\n        braintreePayPalCheckoutInstance: action.value\n      });\n\n    default:\n      {\n        return state;\n      }\n  }\n} // Create the React context to use in the script provider component\n\n\nvar ScriptContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n/**\n * Check if the context is valid and ready to dispatch actions.\n *\n * @param scriptContext the result of connecting to the context provider\n * @returns strict context avoiding null values in the type\n */\n\nfunction validateReducer(scriptContext) {\n  if (typeof (scriptContext === null || scriptContext === void 0 ? void 0 : scriptContext.dispatch) === \"function\" && scriptContext.dispatch.length !== 0) {\n    return scriptContext;\n  }\n\n  throw new Error(SCRIPT_PROVIDER_REDUCER_ERROR);\n}\n/**\n * Check if the dataClientToken or the dataUserIdToken are\n * set in the options of the context.\n * @type dataClientToken is use to pass a client token\n * @type dataUserIdToken is use to pass a client tokenization key\n *\n * @param scriptContext the result of connecting to the context provider\n * @throws an {@link Error} if both dataClientToken and the dataUserIdToken keys are null or undefined\n * @returns strict context if one of the keys are defined\n */\n\n\nvar validateBraintreeAuthorizationData = function (scriptContext) {\n  var _a, _b;\n\n  if (!((_a = scriptContext === null || scriptContext === void 0 ? void 0 : scriptContext.options) === null || _a === void 0 ? void 0 : _a[SDK_SETTINGS.DATA_CLIENT_TOKEN]) && !((_b = scriptContext === null || scriptContext === void 0 ? void 0 : scriptContext.options) === null || _b === void 0 ? void 0 : _b[SDK_SETTINGS.DATA_USER_ID_TOKEN])) {\n    throw new Error(EMPTY_BRAINTREE_AUTHORIZATION_ERROR_MESSAGE);\n  }\n\n  return scriptContext;\n};\n/**\n * Custom hook to get access to the Script context and\n * dispatch actions to modify the state on the {@link ScriptProvider} component\n *\n * @returns a tuple containing the state of the context and\n * a dispatch function to modify the state\n */\n\n\nfunction usePayPalScriptReducer() {\n  var scriptContext = validateReducer((0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScriptContext));\n\n  var derivedStatusContext = __assign(__assign({}, scriptContext), {\n    isInitial: scriptContext.loadingStatus === SCRIPT_LOADING_STATE.INITIAL,\n    isPending: scriptContext.loadingStatus === SCRIPT_LOADING_STATE.PENDING,\n    isResolved: scriptContext.loadingStatus === SCRIPT_LOADING_STATE.RESOLVED,\n    isRejected: scriptContext.loadingStatus === SCRIPT_LOADING_STATE.REJECTED\n  });\n\n  return [derivedStatusContext, scriptContext.dispatch];\n}\n/**\n * Custom hook to get access to the ScriptProvider context\n *\n * @returns the latest state of the context\n */\n\n\nfunction useScriptProviderContext() {\n  var scriptContext = validateBraintreeAuthorizationData(validateReducer((0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ScriptContext)));\n  return [scriptContext, scriptContext.dispatch];\n} // Create the React context to use in the PayPal hosted fields provider\n\n\nvar PayPalHostedFieldsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\n/**\n * Custom hook to get access to the PayPal Hosted Fields instance.\n * The instance represent the returned object after the render process\n * With this object a user can submit the fields and dynamically modify the cards\n *\n * @returns the hosted fields instance if is available in the component\n */\n\nfunction usePayPalHostedFields() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PayPalHostedFieldsContext);\n}\n/**\nThis `<PayPalButtons />` component supports rendering [buttons](https://developer.paypal.com/docs/business/javascript-sdk/javascript-sdk-reference/#buttons) for PayPal, Venmo, and alternative payment methods.\nIt relies on the `<PayPalScriptProvider />` parent component for managing state related to loading the JS SDK script.\n*/\n\n\nvar PayPalButtons = function (_a) {\n  var _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      _c = _a.disabled,\n      disabled = _c === void 0 ? false : _c,\n      children = _a.children,\n      _d = _a.forceReRender,\n      forceReRender = _d === void 0 ? [] : _d,\n      buttonProps = __rest(_a, [\"className\", \"disabled\", \"children\", \"forceReRender\"]);\n\n  var isDisabledStyle = disabled ? {\n    opacity: 0.38\n  } : {};\n  var classNames = \"\".concat(className, \" \").concat(disabled ? \"paypal-buttons-disabled\" : \"\").trim();\n  var buttonsContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var buttons = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var _e = usePayPalScriptReducer()[0],\n      isResolved = _e.isResolved,\n      options = _e.options;\n\n  var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      initActions = _f[0],\n      setInitActions = _f[1];\n\n  var _g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n      isEligible = _g[0],\n      setIsEligible = _g[1];\n\n  var _h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      setErrorState = _h[1];\n\n  function closeButtonsComponent() {\n    if (buttons.current !== null) {\n      buttons.current.close().catch(function () {// ignore errors when closing the component\n      });\n    }\n  } // useEffect hook for rendering the buttons\n\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    // verify the sdk script has successfully loaded\n    if (isResolved === false) {\n      return closeButtonsComponent;\n    }\n\n    var paypalWindowNamespace = getPayPalWindowNamespace$1(options.dataNamespace); // verify dependency on window object\n\n    if (paypalWindowNamespace === undefined || paypalWindowNamespace.Buttons === undefined) {\n      setErrorState(function () {\n        throw new Error(generateErrorMessage({\n          reactComponentName: PayPalButtons.displayName,\n          sdkComponentKey: \"buttons\",\n          sdkRequestedComponents: options.components,\n          sdkDataNamespace: options[SDK_SETTINGS.DATA_NAMESPACE]\n        }));\n      });\n      return closeButtonsComponent;\n    }\n\n    var decoratedOnInit = function (data, actions) {\n      setInitActions(actions);\n\n      if (typeof buttonProps.onInit === \"function\") {\n        buttonProps.onInit(data, actions);\n      }\n    };\n\n    try {\n      buttons.current = paypalWindowNamespace.Buttons(__assign(__assign({}, buttonProps), {\n        onInit: decoratedOnInit\n      }));\n    } catch (err) {\n      return setErrorState(function () {\n        throw new Error(\"Failed to render <PayPalButtons /> component. Failed to initialize:  \".concat(err));\n      });\n    } // only render the button when eligible\n\n\n    if (buttons.current.isEligible() === false) {\n      setIsEligible(false);\n      return closeButtonsComponent;\n    }\n\n    if (!buttonsContainerRef.current) {\n      return closeButtonsComponent;\n    }\n\n    buttons.current.render(buttonsContainerRef.current).catch(function (err) {\n      // component failed to render, possibly because it was closed or destroyed.\n      if (buttonsContainerRef.current === null || buttonsContainerRef.current.children.length === 0) {\n        // paypal buttons container is no longer in the DOM, we can safely ignore the error\n        return;\n      } // paypal buttons container is still in the DOM\n\n\n      setErrorState(function () {\n        throw new Error(\"Failed to render <PayPalButtons /> component. \".concat(err));\n      });\n    });\n    return closeButtonsComponent; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, __spreadArray(__spreadArray([isResolved], forceReRender, true), [buttonProps.fundingSource], false)); // useEffect hook for managing disabled state\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (initActions === null) {\n      return;\n    }\n\n    if (disabled === true) {\n      initActions.disable().catch(function () {// ignore errors when disabling the component\n      });\n    } else {\n      initActions.enable().catch(function () {// ignore errors when enabling the component\n      });\n    }\n  }, [disabled, initActions]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, isEligible ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: buttonsContainerRef,\n    style: isDisabledStyle,\n    className: classNames\n  }) : children);\n};\n\nPayPalButtons.displayName = \"PayPalButtons\";\n\nfunction findScript(url, attributes) {\n  var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n  if (currentScript === null) return null;\n  var nextScript = createScriptElement(url, attributes);\n  var currentScriptClone = currentScript.cloneNode();\n  delete currentScriptClone.dataset.uidAuto;\n\n  if (Object.keys(currentScriptClone.dataset).length !== Object.keys(nextScript.dataset).length) {\n    return null;\n  }\n\n  var isExactMatch = true;\n  Object.keys(currentScriptClone.dataset).forEach(function (key) {\n    if (currentScriptClone.dataset[key] !== nextScript.dataset[key]) {\n      isExactMatch = false;\n    }\n  });\n  return isExactMatch ? currentScript : null;\n}\n\nfunction insertScriptElement(_a) {\n  var url = _a.url,\n      attributes = _a.attributes,\n      onSuccess = _a.onSuccess,\n      onError = _a.onError;\n  var newScript = createScriptElement(url, attributes);\n  newScript.onerror = onError;\n  newScript.onload = onSuccess;\n  document.head.insertBefore(newScript, document.head.firstElementChild);\n}\n\nfunction processOptions(options) {\n  var sdkBaseUrl = \"https://www.paypal.com/sdk/js\";\n\n  if (options.sdkBaseUrl) {\n    sdkBaseUrl = options.sdkBaseUrl;\n    delete options.sdkBaseUrl;\n  }\n\n  var optionsWithStringIndex = options;\n\n  var _a = Object.keys(optionsWithStringIndex).filter(function (key) {\n    return typeof optionsWithStringIndex[key] !== \"undefined\" && optionsWithStringIndex[key] !== null && optionsWithStringIndex[key] !== \"\";\n  }).reduce(function (accumulator, key) {\n    var value = optionsWithStringIndex[key].toString();\n    key = camelCaseToKebabCase(key);\n\n    if (key.substring(0, 4) === \"data\") {\n      accumulator.dataAttributes[key] = value;\n    } else {\n      accumulator.queryParams[key] = value;\n    }\n\n    return accumulator;\n  }, {\n    queryParams: {},\n    dataAttributes: {}\n  }),\n      queryParams = _a.queryParams,\n      dataAttributes = _a.dataAttributes;\n\n  if (queryParams[\"merchant-id\"] && queryParams[\"merchant-id\"].indexOf(\",\") !== -1) {\n    dataAttributes[\"data-merchant-id\"] = queryParams[\"merchant-id\"];\n    queryParams[\"merchant-id\"] = \"*\";\n  }\n\n  return {\n    url: \"\".concat(sdkBaseUrl, \"?\").concat(objectToQueryString(queryParams)),\n    dataAttributes: dataAttributes\n  };\n}\n\nfunction camelCaseToKebabCase(str) {\n  var replacer = function (match, indexOfMatch) {\n    return (indexOfMatch ? \"-\" : \"\") + match.toLowerCase();\n  };\n\n  return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, replacer);\n}\n\nfunction objectToQueryString(params) {\n  var queryString = \"\";\n  Object.keys(params).forEach(function (key) {\n    if (queryString.length !== 0) queryString += \"&\";\n    queryString += key + \"=\" + params[key];\n  });\n  return queryString;\n}\n\nfunction createScriptElement(url, attributes) {\n  if (attributes === void 0) {\n    attributes = {};\n  }\n\n  var newScript = document.createElement(\"script\");\n  newScript.src = url;\n  Object.keys(attributes).forEach(function (key) {\n    newScript.setAttribute(key, attributes[key]);\n\n    if (key === \"data-csp-nonce\") {\n      newScript.setAttribute(\"nonce\", attributes[\"data-csp-nonce\"]);\n    }\n  });\n  return newScript;\n}\n\nfunction loadScript(options, PromisePonyfill) {\n  if (PromisePonyfill === void 0) {\n    PromisePonyfill = Promise;\n  }\n\n  validateArguments(options, PromisePonyfill);\n  if (typeof document === \"undefined\") return PromisePonyfill.resolve(null);\n\n  var _a = processOptions(options),\n      url = _a.url,\n      dataAttributes = _a.dataAttributes;\n\n  var namespace = dataAttributes[\"data-namespace\"] || \"paypal\";\n  var existingWindowNamespace = getPayPalWindowNamespace(namespace);\n\n  if (findScript(url, dataAttributes) && existingWindowNamespace) {\n    return PromisePonyfill.resolve(existingWindowNamespace);\n  }\n\n  return loadCustomScript({\n    url: url,\n    attributes: dataAttributes\n  }, PromisePonyfill).then(function () {\n    var newWindowNamespace = getPayPalWindowNamespace(namespace);\n\n    if (newWindowNamespace) {\n      return newWindowNamespace;\n    }\n\n    throw new Error(\"The window.\".concat(namespace, \" global variable is not available.\"));\n  });\n}\n\nfunction loadCustomScript(options, PromisePonyfill) {\n  if (PromisePonyfill === void 0) {\n    PromisePonyfill = Promise;\n  }\n\n  validateArguments(options, PromisePonyfill);\n  var url = options.url,\n      attributes = options.attributes;\n\n  if (typeof url !== \"string\" || url.length === 0) {\n    throw new Error(\"Invalid url.\");\n  }\n\n  if (typeof attributes !== \"undefined\" && typeof attributes !== \"object\") {\n    throw new Error(\"Expected attributes to be an object.\");\n  }\n\n  return new PromisePonyfill(function (resolve, reject) {\n    if (typeof document === \"undefined\") return resolve();\n    insertScriptElement({\n      url: url,\n      attributes: attributes,\n      onSuccess: function () {\n        return resolve();\n      },\n      onError: function () {\n        var defaultError = new Error(\"The script \\\"\".concat(url, \"\\\" failed to load. Check the HTTP status code and response body in DevTools to learn more.\"));\n        return reject(defaultError);\n      }\n    });\n  });\n}\n\nfunction getPayPalWindowNamespace(namespace) {\n  return window[namespace];\n}\n\nfunction validateArguments(options, PromisePonyfill) {\n  if (typeof options !== \"object\" || options === null) {\n    throw new Error(\"Expected an options object.\");\n  }\n\n  if (typeof PromisePonyfill !== \"undefined\" && typeof PromisePonyfill !== \"function\") {\n    throw new Error(\"Expected PromisePonyfill to be a function.\");\n  }\n}\n/**\n * Simple check to determine if the Braintree is a valid namespace.\n *\n * @param braintreeSource the source {@link BraintreeNamespace}\n * @returns a boolean representing if the namespace is valid.\n */\n\n\nvar isValidBraintreeNamespace = function (braintreeSource) {\n  var _a, _b;\n\n  if (typeof ((_a = braintreeSource === null || braintreeSource === void 0 ? void 0 : braintreeSource.client) === null || _a === void 0 ? void 0 : _a.create) !== \"function\" && typeof ((_b = braintreeSource === null || braintreeSource === void 0 ? void 0 : braintreeSource.paypalCheckout) === null || _b === void 0 ? void 0 : _b.create) !== \"function\") {\n    throw new Error(\"The braintreeNamespace property is not a valid BraintreeNamespace type.\");\n  }\n\n  return true;\n};\n/**\n * Use `actions.braintree` to provide an interface for the paypalCheckoutInstance\n * through the createOrder, createBillingAgreement and onApprove callbacks\n *\n * @param braintreeButtonProps the component button options\n * @returns a new copy of the component button options casted as {@link PayPalButtonsComponentProps}\n */\n\n\nvar decorateActions = function (buttonProps, payPalCheckoutInstance) {\n  var createOrderRef = buttonProps.createOrder;\n  var createBillingAgreementRef = buttonProps.createBillingAgreement;\n  var onApproveRef = buttonProps.onApprove;\n\n  if (typeof createOrderRef === \"function\") {\n    buttonProps.createOrder = function (data, actions) {\n      return createOrderRef(data, __assign(__assign({}, actions), {\n        braintree: payPalCheckoutInstance\n      }));\n    };\n  }\n\n  if (typeof createBillingAgreementRef === \"function\") {\n    buttonProps.createBillingAgreement = function (data, actions) {\n      return createBillingAgreementRef(data, __assign(__assign({}, actions), {\n        braintree: payPalCheckoutInstance\n      }));\n    };\n  }\n\n  if (typeof onApproveRef === \"function\") {\n    buttonProps.onApprove = function (data, actions) {\n      return onApproveRef(data, __assign(__assign({}, actions), {\n        braintree: payPalCheckoutInstance\n      }));\n    };\n  }\n\n  return __assign({}, buttonProps);\n};\n/**\n * Get the Braintree namespace from the component props.\n * If the prop `braintreeNamespace` is undefined will try to load it from the CDN.\n * This function allows users to set the braintree manually on the `BraintreePayPalButtons` component.\n *\n * Use case can be for example legacy sites using AMD/UMD modules,\n * trying to integrate the `BraintreePayPalButtons` component.\n * If we attempt to load the Braintree from the CDN won't define the braintree namespace.\n * This happens because the braintree script is an UMD module.\n * After detecting the AMD on the global scope will create an anonymous module using `define`\n * and the `BraintreePayPalButtons` won't be able to get access to the `window.braintree` namespace\n * from the global context.\n *\n * @param braintreeSource the source {@link BraintreeNamespace}\n * @returns the {@link BraintreeNamespace}\n */\n\n\nvar getBraintreeNamespace = function (braintreeSource) {\n  if (braintreeSource && isValidBraintreeNamespace(braintreeSource)) {\n    return Promise.resolve(braintreeSource);\n  }\n\n  return Promise.all([loadCustomScript({\n    url: BRAINTREE_SOURCE\n  }), loadCustomScript({\n    url: BRAINTREE_PAYPAL_CHECKOUT_SOURCE\n  })]).then(function () {\n    return getBraintreeWindowNamespace();\n  });\n};\n/**\nThis `<BraintreePayPalButtons />` component renders the [Braintree PayPal Buttons](https://developer.paypal.com/braintree/docs/guides/paypal/overview) for Braintree Merchants.\nIt relies on the `<PayPalScriptProvider />` parent component for managing state related to loading the JS SDK script.\n\nNote: You are able to make your integration using the client token or using the tokenization key.\n\n- To use the client token integration set the key `dataClientToken` in the `PayPayScriptProvider` component's options.\n- To use the tokenization key integration set the key `dataUserIdToken` in the `PayPayScriptProvider` component's options.\n*/\n\n\nvar BraintreePayPalButtons = function (_a) {\n  var _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      _c = _a.disabled,\n      disabled = _c === void 0 ? false : _c,\n      children = _a.children,\n      _d = _a.forceReRender,\n      forceReRender = _d === void 0 ? [] : _d,\n      braintreeNamespace = _a.braintreeNamespace,\n      merchantAccountId = _a.merchantAccountId,\n      buttonProps = __rest(_a, [\"className\", \"disabled\", \"children\", \"forceReRender\", \"braintreeNamespace\", \"merchantAccountId\"]);\n\n  var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      setErrorState = _e[1];\n\n  var _f = useScriptProviderContext(),\n      providerContext = _f[0],\n      dispatch = _f[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    getBraintreeNamespace(braintreeNamespace).then(function (braintree) {\n      var clientTokenizationKey = providerContext.options[SDK_SETTINGS.DATA_USER_ID_TOKEN];\n      var clientToken = providerContext.options[SDK_SETTINGS.DATA_CLIENT_TOKEN];\n      return braintree.client.create({\n        authorization: clientTokenizationKey || clientToken\n      }).then(function (clientInstance) {\n        var merchantProp = merchantAccountId ? {\n          merchantAccountId: merchantAccountId\n        } : {};\n        return braintree.paypalCheckout.create(__assign(__assign({}, merchantProp), {\n          client: clientInstance\n        }));\n      }).then(function (paypalCheckoutInstance) {\n        dispatch({\n          type: DISPATCH_ACTION.SET_BRAINTREE_INSTANCE,\n          value: paypalCheckoutInstance\n        });\n      });\n    }).catch(function (err) {\n      setErrorState(function () {\n        throw new Error(\"\".concat(LOAD_SCRIPT_ERROR, \" \").concat(err));\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [providerContext.options]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, providerContext.braintreePayPalCheckoutInstance && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PayPalButtons, __assign({\n    className: className,\n    disabled: disabled,\n    forceReRender: forceReRender\n  }, decorateActions(buttonProps, providerContext.braintreePayPalCheckoutInstance)), children));\n};\n/**\nThe `<PayPalMarks />` component is used for conditionally rendering different payment options using radio buttons.\nThe [Display PayPal Buttons with other Payment Methods guide](https://developer.paypal.com/docs/business/checkout/add-capabilities/buyer-experience/#display-paypal-buttons-with-other-payment-methods) describes this style of integration in detail.\nIt relies on the `<PayPalScriptProvider />` parent component for managing state related to loading the JS SDK script.\n\nThis component can also be configured to use a single funding source similar to the [standalone buttons](https://developer.paypal.com/docs/business/checkout/configure-payments/standalone-buttons/) approach.\nA `FUNDING` object is exported by this library which has a key for every available funding source option.\n*/\n\n\nvar PayPalMarks = function (_a) {\n  var _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      children = _a.children,\n      markProps = __rest(_a, [\"className\", \"children\"]);\n\n  var _c = usePayPalScriptReducer()[0],\n      isResolved = _c.isResolved,\n      options = _c.options;\n  var markContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\n  var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n      isEligible = _d[0],\n      setIsEligible = _d[1];\n\n  var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      setErrorState = _e[1];\n  /**\n   * Render PayPal Mark into the DOM\n   */\n\n\n  var renderPayPalMark = function (mark) {\n    var current = markContainerRef.current; // only render the mark when eligible\n\n    if (!current || !mark.isEligible()) {\n      return setIsEligible(false);\n    } // Remove any children before render it again\n\n\n    if (current.firstChild) {\n      current.removeChild(current.firstChild);\n    }\n\n    mark.render(current).catch(function (err) {\n      // component failed to render, possibly because it was closed or destroyed.\n      if (current === null || current.children.length === 0) {\n        // paypal marks container is no longer in the DOM, we can safely ignore the error\n        return;\n      } // paypal marks container is still in the DOM\n\n\n      setErrorState(function () {\n        throw new Error(\"Failed to render <PayPalMarks /> component. \".concat(err));\n      });\n    });\n  };\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    // verify the sdk script has successfully loaded\n    if (isResolved === false) {\n      return;\n    }\n\n    var paypalWindowNamespace = getPayPalWindowNamespace$1(options[SDK_SETTINGS.DATA_NAMESPACE]); // verify dependency on window object\n\n    if (paypalWindowNamespace === undefined || paypalWindowNamespace.Marks === undefined) {\n      return setErrorState(function () {\n        throw new Error(generateErrorMessage({\n          reactComponentName: PayPalMarks.displayName,\n          sdkComponentKey: \"marks\",\n          sdkRequestedComponents: options.components,\n          sdkDataNamespace: options[SDK_SETTINGS.DATA_NAMESPACE]\n        }));\n      });\n    }\n\n    renderPayPalMark(paypalWindowNamespace.Marks(__assign({}, markProps))); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isResolved, markProps.fundingSource]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, isEligible ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: markContainerRef,\n    className: className\n  }) : children);\n};\n\nPayPalMarks.displayName = \"PayPalMarks\";\n/**\nThis `<PayPalMessages />` messages component renders a credit messaging on upstream merchant sites.\nIt relies on the `<PayPalScriptProvider />` parent component for managing state related to loading the JS SDK script.\n*/\n\nvar PayPalMessages = function (_a) {\n  var _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      _c = _a.forceReRender,\n      forceReRender = _c === void 0 ? [] : _c,\n      messageProps = __rest(_a, [\"className\", \"forceReRender\"]);\n\n  var _d = usePayPalScriptReducer()[0],\n      isResolved = _d.isResolved,\n      options = _d.options;\n  var messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var messages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\n  var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      setErrorState = _e[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    // verify the sdk script has successfully loaded\n    if (isResolved === false) {\n      return;\n    }\n\n    var paypalWindowNamespace = getPayPalWindowNamespace$1(options[SDK_SETTINGS.DATA_NAMESPACE]); // verify dependency on window object\n\n    if (paypalWindowNamespace === undefined || paypalWindowNamespace.Messages === undefined) {\n      return setErrorState(function () {\n        throw new Error(generateErrorMessage({\n          reactComponentName: PayPalMessages.displayName,\n          sdkComponentKey: \"messages\",\n          sdkRequestedComponents: options.components,\n          sdkDataNamespace: options[SDK_SETTINGS.DATA_NAMESPACE]\n        }));\n      });\n    }\n\n    messages.current = paypalWindowNamespace.Messages(__assign({}, messageProps));\n    messages.current.render(messagesContainerRef.current).catch(function (err) {\n      // component failed to render, possibly because it was closed or destroyed.\n      if (messagesContainerRef.current === null || messagesContainerRef.current.children.length === 0) {\n        // paypal messages container is no longer in the DOM, we can safely ignore the error\n        return;\n      } // paypal messages container is still in the DOM\n\n\n      setErrorState(function () {\n        throw new Error(\"Failed to render <PayPalMessages /> component. \".concat(err));\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, __spreadArray([isResolved], forceReRender, true));\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: messagesContainerRef,\n    className: className\n  });\n};\n\nPayPalMessages.displayName = \"PayPalMessages\";\n/**\nThis `<PayPalScriptProvider />` component takes care of loading the JS SDK `<script>`.\nIt manages state for script loading so children components like `<PayPalButtons />` know when it's safe to use the `window.paypal` global namespace.\n\nNote: You always should use this component as a wrapper for  `PayPalButtons`, `PayPalMarks`, `PayPalMessages` and `BraintreePayPalButtons` components.\n */\n\nvar PayPalScriptProvider = function (_a) {\n  var _b, _c;\n\n  var _d = _a.options,\n      options = _d === void 0 ? {\n    clientId: \"test\"\n  } : _d,\n      children = _a.children,\n      _e = _a.deferLoading,\n      deferLoading = _e === void 0 ? false : _e;\n\n  var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(scriptReducer, {\n    options: __assign(__assign((_b = {}, _b[SDK_SETTINGS.DATA_SDK_INTEGRATION_SOURCE] = SDK_SETTINGS.DATA_SDK_INTEGRATION_SOURCE_VALUE, _b), options), (_c = {}, _c[SCRIPT_ID] = \"\".concat(getScriptID(options)), _c)),\n    loadingStatus: deferLoading ? SCRIPT_LOADING_STATE.INITIAL : SCRIPT_LOADING_STATE.PENDING\n  }),\n      state = _f[0],\n      dispatch = _f[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (deferLoading === false && state.loadingStatus === SCRIPT_LOADING_STATE.INITIAL) {\n      return dispatch({\n        type: DISPATCH_ACTION.LOADING_STATUS,\n        value: SCRIPT_LOADING_STATE.PENDING\n      });\n    }\n\n    if (state.loadingStatus !== SCRIPT_LOADING_STATE.PENDING) {\n      return;\n    }\n\n    var isSubscribed = true;\n    loadScript(state.options).then(function () {\n      if (isSubscribed) {\n        dispatch({\n          type: DISPATCH_ACTION.LOADING_STATUS,\n          value: SCRIPT_LOADING_STATE.RESOLVED\n        });\n      }\n    }).catch(function (err) {\n      console.error(\"\".concat(LOAD_SCRIPT_ERROR, \" \").concat(err));\n\n      if (isSubscribed) {\n        dispatch({\n          type: DISPATCH_ACTION.LOADING_STATUS,\n          value: {\n            state: SCRIPT_LOADING_STATE.REJECTED,\n            message: String(err)\n          }\n        });\n      }\n    });\n    return function () {\n      isSubscribed = false;\n    };\n  }, [state.options, deferLoading, state.loadingStatus]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ScriptContext.Provider, {\n    value: __assign(__assign({}, state), {\n      dispatch: dispatch\n    })\n  }, children);\n};\n/**\n * Custom hook to store registered hosted fields children\n * Each `PayPalHostedField` component should be registered on the parent provider\n *\n * @param initialValue the initially registered components\n * @returns at first, an {@link Object} containing the registered hosted fields,\n * and at the second a function handler to register the hosted fields components\n */\n\n\nvar useHostedFieldsRegister = function (initialValue) {\n  if (initialValue === void 0) {\n    initialValue = {};\n  }\n\n  var registeredFields = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(initialValue);\n\n  var registerHostedField = function (component) {\n    registeredFields.current = __assign(__assign({}, registeredFields.current), component);\n  };\n\n  return [registeredFields, registerHostedField];\n};\n/**\n * Throw an exception if the HostedFields is not found in the paypal namespace\n * Probably cause for this problem is not sending the hosted-fields string\n * as part of the components props in options\n * {@code <PayPalScriptProvider options={{ components: 'hosted-fields'}}>}\n *\n * @param param0 and object containing the components and namespace defined in options\n * @throws {@code Error}\n *\n */\n\n\nvar generateMissingHostedFieldsError = function (_a) {\n  var _b = _a.components,\n      components = _b === void 0 ? \"\" : _b,\n      _c = SDK_SETTINGS.DATA_NAMESPACE,\n      _d = _a[_c],\n      dataNamespace = _d === void 0 ? DEFAULT_PAYPAL_NAMESPACE : _d;\n  var expectedComponents = components ? \"\".concat(components, \",hosted-fields\") : \"hosted-fields\";\n  var errorMessage = \"Unable to render <PayPalHostedFieldsProvider /> because window.\".concat(dataNamespace, \".HostedFields is undefined.\");\n\n  if (!components.includes(\"hosted-fields\")) {\n    errorMessage += \"\\nTo fix the issue, add 'hosted-fields' to the list of components passed to the parent PayPalScriptProvider: <PayPalScriptProvider options={{ components: '\".concat(expectedComponents, \"'}}>\");\n  }\n\n  return errorMessage;\n};\n/**\n * Validate the expiration date component. Valid combinations are:\n * 1- Only the `expirationDate` field exists.\n * 2- Only the `expirationMonth` and `expirationYear` fields exist. Cannot be used with the `expirationDate` field.\n *\n * @param registerTypes\n * @returns @type {true} when the children are valid\n */\n\n\nvar validateExpirationDate = function (registerTypes) {\n  return !registerTypes.includes(PAYPAL_HOSTED_FIELDS_TYPES.EXPIRATION_DATE) && !registerTypes.includes(PAYPAL_HOSTED_FIELDS_TYPES.EXPIRATION_MONTH) && !registerTypes.includes(PAYPAL_HOSTED_FIELDS_TYPES.EXPIRATION_YEAR);\n};\n/**\n * Check if we find the [number, expiration, cvv] in children\n *\n * @param requiredChildren the list with required children [number, expiration, cvv]\n * @param registerTypes    the list of all the children types pass to the parent\n * @throw an @type {Error} when not find the default children\n */\n\n\nvar hasDefaultChildren = function (registerTypes) {\n  if (!registerTypes.includes(PAYPAL_HOSTED_FIELDS_TYPES.NUMBER) || !registerTypes.includes(PAYPAL_HOSTED_FIELDS_TYPES.CVV) || validateExpirationDate(registerTypes)) {\n    throw new Error(HOSTED_FIELDS_CHILDREN_ERROR);\n  }\n};\n/**\n * Check if we don't have duplicate children types\n *\n * @param registerTypes the list of all the children types pass to the parent\n * @throw an @type {Error} when duplicate types was found\n */\n\n\nvar noDuplicateChildren = function (registerTypes) {\n  if (registerTypes.length !== new Set(registerTypes).size) {\n    throw new Error(HOSTED_FIELDS_DUPLICATE_CHILDREN_ERROR);\n  }\n};\n/**\n * Validate the hosted field children in the PayPalHostedFieldsProvider component.\n * These are the rules:\n * 1- We need to find 3 default children for number, expiration, cvv\n * 2- No duplicate children are allowed\n * 3- No invalid combinations of `expirationDate`, `expirationMonth`, and `expirationYear`\n *\n * @param childrenList     the list of children\n * @param requiredChildren the list with required children [number, expiration, cvv]\n */\n\n\nvar validateHostedFieldChildren = function (registeredFields) {\n  hasDefaultChildren(registeredFields);\n  noDuplicateChildren(registeredFields);\n};\n/**\nThis `<PayPalHostedFieldsProvider />` provider component wraps the form field elements and accepts props like `createOrder()`.\n\nThis provider component is designed to be used with the `<PayPalHostedField />` component.\n\nWarning: If you don't see anything in the screen probably your client is ineligible.\nTo handle this problem make sure to use the prop `notEligibleError` and pass a component with a custom message.\nTake a look to this link if that is the case: https://developer.paypal.com/docs/checkout/advanced/integrate/\n*/\n\n\nvar PayPalHostedFieldsProvider = function (_a) {\n  var styles = _a.styles,\n      createOrder = _a.createOrder,\n      notEligibleError = _a.notEligibleError,\n      children = _a.children,\n      installments = _a.installments;\n  var _b = useScriptProviderContext()[0],\n      options = _b.options,\n      loadingStatus = _b.loadingStatus;\n\n  var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),\n      isEligible = _c[0],\n      setIsEligible = _c[1];\n\n  var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),\n      cardFields = _d[0],\n      setCardFields = _d[1];\n\n  var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      setErrorState = _e[1];\n\n  var hostedFieldsContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var hostedFields = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n\n  var _f = useHostedFieldsRegister(),\n      registeredFields = _f[0],\n      registerHostedField = _f[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var _a;\n\n    validateHostedFieldChildren(Object.keys(registeredFields.current)); // Only render the hosted fields when script is loaded and hostedFields is eligible\n\n    if (!(loadingStatus === SCRIPT_LOADING_STATE.RESOLVED)) {\n      return;\n    } // Get the hosted fields from the [window.paypal.HostedFields] SDK\n\n\n    hostedFields.current = getPayPalWindowNamespace$1(options[SDK_SETTINGS.DATA_NAMESPACE]).HostedFields;\n\n    if (!hostedFields.current) {\n      throw new Error(generateMissingHostedFieldsError((_a = {\n        components: options.components\n      }, _a[SDK_SETTINGS.DATA_NAMESPACE] = options[SDK_SETTINGS.DATA_NAMESPACE], _a)));\n    }\n\n    if (!hostedFields.current.isEligible()) {\n      return setIsEligible(false);\n    } // Clean all the fields before the rerender\n\n\n    if (cardFields) {\n      cardFields.teardown();\n    }\n\n    hostedFields.current.render({\n      // Call your server to set up the transaction\n      createOrder: createOrder,\n      fields: registeredFields.current,\n      installments: installments,\n      styles: styles\n    }).then(function (cardFieldsInstance) {\n      if (hostedFieldsContainerRef.current) {\n        setCardFields(cardFieldsInstance);\n      }\n    }).catch(function (err) {\n      setErrorState(function () {\n        throw new Error(\"Failed to render <PayPalHostedFieldsProvider /> component. \".concat(err));\n      });\n    });\n  }, [loadingStatus, styles]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    ref: hostedFieldsContainerRef\n  }, isEligible ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(PayPalHostedFieldsContext.Provider, {\n    value: {\n      cardFields: cardFields,\n      registerHostedField: registerHostedField\n    }\n  }, children) : notEligibleError);\n};\n/**\nThis `<PayPalHostedField />` component renders individual fields for [Hosted Fields](https://developer.paypal.com/docs/business/checkout/advanced-card-payments/integrate#3-add-javascript-sdk-and-card-form) integrations.\nIt relies on the `<PayPalHostedFieldsProvider />` parent component for managing state related to loading the JS SDK script\nand execute some validations before the rendering the fields.\n\nTo use the PayPal hosted fields you need to define at least three fields:\n\n- A card number field\n- The CVV code from the client card\n- The expiration date\n\nYou can define the expiration date as a single field similar to the example below,\nor you are able to define it in [two separate fields](https://paypal.github.io/react-paypal-js//?path=/docs/paypal-paypalhostedfields--expiration-date). One for the month and second for year.\n\nNote: Take care when using multiple instances of the PayPal Hosted Fields on the same page.\nThe component will fail to render when any of the selectors return more than one element.\n*/\n\n\nvar PayPalHostedField = function (_a) {\n  var hostedFieldType = _a.hostedFieldType,\n      // eslint-disable-line @typescript-eslint/no-unused-vars\n  options = _a.options,\n      // eslint-disable-line @typescript-eslint/no-unused-vars\n  props = __rest(_a, [\"hostedFieldType\", \"options\"]);\n\n  var hostedFieldContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PayPalHostedFieldsContext);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var _a;\n\n    if (!(hostedFieldContext === null || hostedFieldContext === void 0 ? void 0 : hostedFieldContext.registerHostedField)) {\n      throw new Error(\"The HostedField cannot be register in the PayPalHostedFieldsProvider parent component\");\n    } // Register in the parent provider\n\n\n    hostedFieldContext.registerHostedField((_a = {}, _a[hostedFieldType] = {\n      selector: options.selector,\n      placeholder: options.placeholder,\n      type: options.type,\n      formatInput: options.formatInput,\n      maskInput: options.maskInput,\n      select: options.select,\n      maxlength: options.maxlength,\n      minlength: options.minlength,\n      prefill: options.prefill,\n      rejectUnsupportedCards: options.rejectUnsupportedCards\n    }, _a));\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", __assign({}, props));\n};\n\nvar FUNDING$1 = {\n  PAYPAL: 'paypal',\n  VENMO: 'venmo',\n  APPLEPAY: 'applepay',\n  ITAU: 'itau',\n  CREDIT: 'credit',\n  PAYLATER: 'paylater',\n  CARD: 'card',\n  IDEAL: 'ideal',\n  SEPA: 'sepa',\n  BANCONTACT: 'bancontact',\n  GIROPAY: 'giropay',\n  SOFORT: 'sofort',\n  EPS: 'eps',\n  MYBANK: 'mybank',\n  P24: 'p24',\n  VERKKOPANKKI: 'verkkopankki',\n  PAYU: 'payu',\n  BLIK: 'blik',\n  TRUSTLY: 'trustly',\n  ZIMPLER: 'zimpler',\n  MAXIMA: 'maxima',\n  OXXO: 'oxxo',\n  BOLETO: 'boleto',\n  BOLETOBANCARIO: 'boletobancario',\n  WECHATPAY: 'wechatpay',\n  MERCADOPAGO: 'mercadopago',\n  MULTIBANCO: 'multibanco'\n}; // We do not re-export `FUNDING` from the `sdk-constants` module\n// directly because it has no type definitions.\n//\n// See https://github.com/paypal/react-paypal-js/issues/125\n\nvar FUNDING = FUNDING$1;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBheXBhbC9yZWFjdC1wYXlwYWwtanMvZGlzdC9lc20vcmVhY3QtcGF5cGFsLWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0c7QUFDbEc7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0VBQWdFOztBQUVqRTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSw0SEFBNEgsY0FBYztBQUMxSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLGtCQUFrQixnQkFBZ0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0tBQStLO0FBQy9LOztBQUVBO0FBQ0E7QUFDQSx5TEFBeUwsOENBQThDO0FBQ3ZPOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBLGlDQUFpQztBQUNqQztBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsMkNBQTJDLDZIQUE2SDtBQUN4SyxPQUFPOztBQUVQO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Ysb0JBQW9CLG9EQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsc0JBQXNCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLHNDQUFzQyxpREFBVTs7QUFFaEQsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSx5RUFBeUUsaURBQVU7QUFDbkY7QUFDQSxFQUFFOzs7QUFHRixnQ0FBZ0Msb0RBQWEsR0FBRztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsaURBQVU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSw0QkFBNEIsNkNBQU07QUFDbEMsZ0JBQWdCLDZDQUFNO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLCtDQUFRO0FBQ25CO0FBQ0E7O0FBRUEsV0FBVywrQ0FBUTtBQUNuQjtBQUNBOztBQUVBLFdBQVcsK0NBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxPQUFPO0FBQ1A7QUFDQSxJQUFJOzs7QUFHSixFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUZBQW1GOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsa0NBQWtDO0FBQ2xDLEdBQUcsd0dBQXdHOztBQUUzRyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDO0FBQy9DLE9BQU87QUFDUCxNQUFNO0FBQ04sOENBQThDO0FBQzlDLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxTQUFTLDBEQUFtQixDQUFDLHVEQUFjLHFCQUFxQiwwREFBbUI7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUI7QUFDbkI7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsaUJBQWlCO0FBQ2pCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLCtDQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsVUFBVTtBQUNWLG1FQUFtRTtBQUNuRTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUc7QUFDUixHQUFHO0FBQ0gsU0FBUywwREFBbUIsQ0FBQyx1REFBYywyREFBMkQsMERBQW1CO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkNBQU07O0FBRS9CLFdBQVcsK0NBQVE7QUFDbkI7QUFDQTs7QUFFQSxXQUFXLCtDQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLDRDQUE0Qzs7QUFFNUM7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUEsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtHQUFrRzs7QUFFbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBLDREQUE0RCxnQkFBZ0I7QUFDNUUsR0FBRztBQUNILFNBQVMsMERBQW1CLENBQUMsdURBQWMscUJBQXFCLDBEQUFtQjtBQUNuRjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2Q0FBTTtBQUNuQyxpQkFBaUIsNkNBQU07O0FBRXZCLFdBQVcsK0NBQVE7QUFDbkI7O0FBRUEsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtHQUFrRzs7QUFFbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7O0FBR1I7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLLEdBQUc7QUFDUixHQUFHO0FBQ0gsU0FBUywwREFBbUI7QUFDNUI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLGlEQUFVO0FBQ3JCLHVDQUF1Qyx3SEFBd0g7QUFDL0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUywwREFBbUI7QUFDNUIsK0JBQStCO0FBQy9CO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsNkNBQU07O0FBRS9CO0FBQ0EsbURBQW1EO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdUNBQXVDLDZCQUE2QjtBQUN4RTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtS0FBbUssOENBQThDO0FBQ2pOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTTtBQUN6Qjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLCtDQUFRO0FBQ25CO0FBQ0E7O0FBRUEsV0FBVywrQ0FBUTtBQUNuQjtBQUNBOztBQUVBLFdBQVcsK0NBQVE7QUFDbkI7O0FBRUEsaUNBQWlDLDZDQUFNO0FBQ3ZDLHFCQUFxQiw2Q0FBTTs7QUFFM0I7QUFDQTtBQUNBOztBQUVBLEVBQUUsZ0RBQVM7QUFDWDs7QUFFQSx3RUFBd0U7O0FBRXhFO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUcsNEJBQTRCOztBQUUvQixTQUFTLDBEQUFtQjtBQUM1QjtBQUNBLEdBQUcsZUFBZSwwREFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsaURBQVU7QUFDckMsRUFBRSxnREFBUztBQUNYOztBQUVBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTixtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRyxPQUFPOztBQUVWLFNBQVMsMERBQW1CLG1CQUFtQjtBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDcVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BwYXlwYWwvcmVhY3QtcGF5cGFsLWpzL2Rpc3QvZXNtL3JlYWN0LXBheXBhbC1qcy5qcz83ZWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogcmVhY3QtcGF5cGFsLWpzIHY4LjEuMyAoMjAyMy0wOC0xNlQxNzo1Nzo0OC4zNzdaKVxuICogQ29weXJpZ2h0IDIwMjAtcHJlc2VudCwgUGF5UGFsLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBFbnVtIGZvciB0aGUgU0RLIHNjcmlwdCByZXNvbHZlIHN0YXR1cyxcbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5cbnZhciBTQ1JJUFRfTE9BRElOR19TVEFURTtcblxuKGZ1bmN0aW9uIChTQ1JJUFRfTE9BRElOR19TVEFURSkge1xuICBTQ1JJUFRfTE9BRElOR19TVEFURVtcIklOSVRJQUxcIl0gPSBcImluaXRpYWxcIjtcbiAgU0NSSVBUX0xPQURJTkdfU1RBVEVbXCJQRU5ESU5HXCJdID0gXCJwZW5kaW5nXCI7XG4gIFNDUklQVF9MT0FESU5HX1NUQVRFW1wiUkVKRUNURURcIl0gPSBcInJlamVjdGVkXCI7XG4gIFNDUklQVF9MT0FESU5HX1NUQVRFW1wiUkVTT0xWRURcIl0gPSBcInJlc29sdmVkXCI7XG59KShTQ1JJUFRfTE9BRElOR19TVEFURSB8fCAoU0NSSVBUX0xPQURJTkdfU1RBVEUgPSB7fSkpO1xuLyoqXG4gKiBFbnVtIGZvciB0aGUgUGF5UGFsU2NyaXB0UHJvdmlkZXIgY29udGV4dCBkaXNwYXRjaCBhY3Rpb25zXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5cbnZhciBESVNQQVRDSF9BQ1RJT047XG5cbihmdW5jdGlvbiAoRElTUEFUQ0hfQUNUSU9OKSB7XG4gIERJU1BBVENIX0FDVElPTltcIkxPQURJTkdfU1RBVFVTXCJdID0gXCJzZXRMb2FkaW5nU3RhdHVzXCI7XG4gIERJU1BBVENIX0FDVElPTltcIlJFU0VUX09QVElPTlNcIl0gPSBcInJlc2V0T3B0aW9uc1wiO1xuICBESVNQQVRDSF9BQ1RJT05bXCJTRVRfQlJBSU5UUkVFX0lOU1RBTkNFXCJdID0gXCJicmFpbnRyZWVJbnN0YW5jZVwiO1xufSkoRElTUEFUQ0hfQUNUSU9OIHx8IChESVNQQVRDSF9BQ1RJT04gPSB7fSkpO1xuLyoqXG4gKiBFbnVtIGZvciBhbGwgdGhlIGF2YWlsYWJsZSBob3N0ZWQgZmllbGRzXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5cbnZhciBQQVlQQUxfSE9TVEVEX0ZJRUxEU19UWVBFUztcblxuKGZ1bmN0aW9uIChQQVlQQUxfSE9TVEVEX0ZJRUxEU19UWVBFUykge1xuICBQQVlQQUxfSE9TVEVEX0ZJRUxEU19UWVBFU1tcIk5VTUJFUlwiXSA9IFwibnVtYmVyXCI7XG4gIFBBWVBBTF9IT1NURURfRklFTERTX1RZUEVTW1wiQ1ZWXCJdID0gXCJjdnZcIjtcbiAgUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVNbXCJFWFBJUkFUSU9OX0RBVEVcIl0gPSBcImV4cGlyYXRpb25EYXRlXCI7XG4gIFBBWVBBTF9IT1NURURfRklFTERTX1RZUEVTW1wiRVhQSVJBVElPTl9NT05USFwiXSA9IFwiZXhwaXJhdGlvbk1vbnRoXCI7XG4gIFBBWVBBTF9IT1NURURfRklFTERTX1RZUEVTW1wiRVhQSVJBVElPTl9ZRUFSXCJdID0gXCJleHBpcmF0aW9uWWVhclwiO1xuICBQQVlQQUxfSE9TVEVEX0ZJRUxEU19UWVBFU1tcIlBPU1RBTF9DT0RFXCJdID0gXCJwb3N0YWxDb2RlXCI7XG59KShQQVlQQUxfSE9TVEVEX0ZJRUxEU19UWVBFUyB8fCAoUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVMgPSB7fSkpO1xuXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcblxuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICBhcltpXSA9IGZyb21baV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogQ29tbW9uIHJlZmVyZW5jZSB0byB0aGUgc2NyaXB0IGlkZW50aWZpZXIgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8vIGtlZXAgdGhpcyBzY3JpcHQgaWQgdmFsdWUgaW4ga2ViYWItY2FzZSBmb3JtYXRcblxuXG52YXIgU0NSSVBUX0lEID0gXCJkYXRhLXJlYWN0LXBheXBhbC1zY3JpcHQtaWRcIjtcbnZhciBTREtfU0VUVElOR1MgPSB7XG4gIERBVEFfQ0xJRU5UX1RPS0VOOiBcImRhdGFDbGllbnRUb2tlblwiLFxuICBEQVRBX1VTRVJfSURfVE9LRU46IFwiZGF0YVVzZXJJZFRva2VuXCIsXG4gIERBVEFfU0RLX0lOVEVHUkFUSU9OX1NPVVJDRTogXCJkYXRhU2RrSW50ZWdyYXRpb25Tb3VyY2VcIixcbiAgREFUQV9TREtfSU5URUdSQVRJT05fU09VUkNFX1ZBTFVFOiBcInJlYWN0LXBheXBhbC1qc1wiLFxuICBEQVRBX05BTUVTUEFDRTogXCJkYXRhTmFtZXNwYWNlXCJcbn07XG52YXIgTE9BRF9TQ1JJUFRfRVJST1IgPSBcIkZhaWxlZCB0byBsb2FkIHRoZSBQYXlQYWwgSlMgU0RLIHNjcmlwdC5cIjtcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBCcmFpbnRyZWUgZXJyb3IgbWVzc2FnZXMgKlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBFTVBUWV9CUkFJTlRSRUVfQVVUSE9SSVpBVElPTl9FUlJPUl9NRVNTQUdFID0gXCJJbnZhbGlkIGF1dGhvcml6YXRpb24gZGF0YS4gVXNlIGRhdGFDbGllbnRUb2tlbiBvciBkYXRhVXNlcklkVG9rZW4gdG8gYXV0aG9yaXplLlwiO1xudmFyIGJyYWludHJlZVZlcnNpb24gPSBcIjMuODQuMFwiO1xudmFyIEJSQUlOVFJFRV9TT1VSQ0UgPSBcImh0dHBzOi8vanMuYnJhaW50cmVlZ2F0ZXdheS5jb20vd2ViL1wiLmNvbmNhdChicmFpbnRyZWVWZXJzaW9uLCBcIi9qcy9jbGllbnQubWluLmpzXCIpO1xudmFyIEJSQUlOVFJFRV9QQVlQQUxfQ0hFQ0tPVVRfU09VUkNFID0gXCJodHRwczovL2pzLmJyYWludHJlZWdhdGV3YXkuY29tL3dlYi9cIi5jb25jYXQoYnJhaW50cmVlVmVyc2lvbiwgXCIvanMvcGF5cGFsLWNoZWNrb3V0Lm1pbi5qc1wiKTtcbi8qKioqKioqKioqKioqKioqKioqKipcbiAqIFBheVBhbCBuYW1lc3BhY2VzICpcbiAqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBERUZBVUxUX1BBWVBBTF9OQU1FU1BBQ0UgPSBcInBheXBhbFwiO1xudmFyIERFRkFVTFRfQlJBSU5UUkVFX05BTUVTUEFDRSA9IFwiYnJhaW50cmVlXCI7XG4vKioqKioqKioqKioqKioqKipcbiAqIEhvc3RlZCBGaWVsZHMgKlxuICoqKioqKioqKioqKioqKioqL1xuXG52YXIgSE9TVEVEX0ZJRUxEU19DSElMRFJFTl9FUlJPUiA9IFwiVG8gdXNlIEhvc3RlZEZpZWxkcyB5b3UgbXVzdCB1c2UgaXQgd2l0aCBhdCBsZWFzdCAzIGNoaWxkcmVuIHdpdGggdHlwZXM6IFtudW1iZXIsIGN2diwgZXhwaXJhdGlvbkRhdGVdIGluY2x1ZGVzXCI7XG52YXIgSE9TVEVEX0ZJRUxEU19EVVBMSUNBVEVfQ0hJTERSRU5fRVJST1IgPSBcIkNhbm5vdCB1c2UgZHVwbGljYXRlIEhvc3RlZEZpZWxkcyBhcyBjaGlsZHJlblwiO1xuLyoqKioqKioqKioqKioqKioqKipcbiAqIFNjcmlwdCBQcm92aWRlciAqXG4gKioqKioqKioqKioqKioqKioqKi9cblxudmFyIFNDUklQVF9QUk9WSURFUl9SRURVQ0VSX0VSUk9SID0gXCJ1c2VQYXlQYWxTY3JpcHRSZWR1Y2VyIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQYXlQYWxTY3JpcHRQcm92aWRlclwiO1xuLyoqXG4gKiBHZXQgdGhlIG5hbWVzcGFjZSBmcm9tIHRoZSB3aW5kb3cgaW4gdGhlIGJyb3dzZXJcbiAqIHRoaXMgaXMgdXNlZnVsIHRvIGdldCB0aGUgcGF5cGFsIG9iamVjdCBmcm9tIHdpbmRvd1xuICogYWZ0ZXIgbG9hZCBQYXlQYWwgU0RLIHNjcmlwdFxuICpcbiAqIEBwYXJhbSBuYW1lc3BhY2UgdGhlIG5hbWUgc3BhY2UgdG8gcmV0dXJuXG4gKiBAcmV0dXJucyB0aGUgbmFtZXNwYWNlIGlmIGV4aXN0cyBvciB1bmRlZmluZWQgb3RoZXJ3aXNlXG4gKi9cblxuZnVuY3Rpb24gZ2V0UGF5UGFsV2luZG93TmFtZXNwYWNlJDEobmFtZXNwYWNlKSB7XG4gIGlmIChuYW1lc3BhY2UgPT09IHZvaWQgMCkge1xuICAgIG5hbWVzcGFjZSA9IERFRkFVTFRfUEFZUEFMX05BTUVTUEFDRTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXG5cbiAgcmV0dXJuIHdpbmRvd1tuYW1lc3BhY2VdO1xufVxuLyoqXG4gKiBHZXQgYSBuYW1lc3BhY2UgZnJvbSB0aGUgd2luZG93IGluIHRoZSBicm93c2VyXG4gKiB0aGlzIGlzIHVzZWZ1bCB0byBnZXQgdGhlIGJyYWludHJlZSBmcm9tIHdpbmRvd1xuICogYWZ0ZXIgbG9hZCBCcmFpbnRyZWUgc2NyaXB0XG4gKlxuICogQHBhcmFtIG5hbWVzcGFjZSB0aGUgbmFtZSBzcGFjZSB0byByZXR1cm5cbiAqIEByZXR1cm5zIHRoZSBuYW1lc3BhY2UgaWYgZXhpc3RzIG9yIHVuZGVmaW5lZCBvdGhlcndpc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldEJyYWludHJlZVdpbmRvd05hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgaWYgKG5hbWVzcGFjZSA9PT0gdm9pZCAwKSB7XG4gICAgbmFtZXNwYWNlID0gREVGQVVMVF9CUkFJTlRSRUVfTkFNRVNQQUNFO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cblxuICByZXR1cm4gd2luZG93W25hbWVzcGFjZV07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzdHJpbmcgaGFzaCBjb2RlIGJhc2VkIG9uIHRoZSBzdHJpbmcgYXJndW1lbnRcbiAqXG4gKiBAcGFyYW0gc3RyIHRoZSBzb3VyY2UgaW5wdXQgc3RyaW5nIHRvIGhhc2hcbiAqIEByZXR1cm5zIHN0cmluZyBoYXNoIGNvZGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGhhc2hTdHIoc3RyKSB7XG4gIHZhciBoYXNoID0gXCJcIjtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b3RhbCA9IHN0cltpXS5jaGFyQ29kZUF0KDApICogaTtcblxuICAgIGlmIChzdHJbaSArIDFdKSB7XG4gICAgICB0b3RhbCArPSBzdHJbaSArIDFdLmNoYXJDb2RlQXQoMCkgKiAoaSAtIDEpO1xuICAgIH1cblxuICAgIGhhc2ggKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIE1hdGguYWJzKHRvdGFsKSAlIDI2KTtcbiAgfVxuXG4gIHJldHVybiBoYXNoO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVycm9yTWVzc2FnZShfYSkge1xuICB2YXIgcmVhY3RDb21wb25lbnROYW1lID0gX2EucmVhY3RDb21wb25lbnROYW1lLFxuICAgICAgc2RrQ29tcG9uZW50S2V5ID0gX2Euc2RrQ29tcG9uZW50S2V5LFxuICAgICAgX2IgPSBfYS5zZGtSZXF1ZXN0ZWRDb21wb25lbnRzLFxuICAgICAgc2RrUmVxdWVzdGVkQ29tcG9uZW50cyA9IF9iID09PSB2b2lkIDAgPyBcIlwiIDogX2IsXG4gICAgICBfYyA9IF9hLnNka0RhdGFOYW1lc3BhY2UsXG4gICAgICBzZGtEYXRhTmFtZXNwYWNlID0gX2MgPT09IHZvaWQgMCA/IERFRkFVTFRfUEFZUEFMX05BTUVTUEFDRSA6IF9jO1xuICB2YXIgcmVxdWlyZWRPcHRpb25DYXBpdGFsaXplZCA9IHNka0NvbXBvbmVudEtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKS5jb25jYXQoc2RrQ29tcG9uZW50S2V5LnN1YnN0cmluZygxKSk7XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byByZW5kZXIgPFwiLmNvbmNhdChyZWFjdENvbXBvbmVudE5hbWUsIFwiIC8+IGJlY2F1c2Ugd2luZG93LlwiKS5jb25jYXQoc2RrRGF0YU5hbWVzcGFjZSwgXCIuXCIpLmNvbmNhdChyZXF1aXJlZE9wdGlvbkNhcGl0YWxpemVkLCBcIiBpcyB1bmRlZmluZWQuXCIpOyAvLyBUaGUgSlMgU0RLIG9ubHkgbG9hZHMgdGhlIGJ1dHRvbnMgY29tcG9uZW50IGJ5IGRlZmF1bHQuXG4gIC8vIEFsbCBvdGhlciBjb21wb25lbnRzIGxpa2UgbWVzc2FnZXMgYW5kIG1hcmtzIG11c3QgYmUgcmVxdWVzdGVkIHVzaW5nIHRoZSBcImNvbXBvbmVudHNcIiBxdWVyeSBwYXJhbWV0ZXJcblxuICBpZiAoIXNka1JlcXVlc3RlZENvbXBvbmVudHMuaW5jbHVkZXMoc2RrQ29tcG9uZW50S2V5KSkge1xuICAgIHZhciBleHBlY3RlZENvbXBvbmVudHMgPSBbc2RrUmVxdWVzdGVkQ29tcG9uZW50cywgc2RrQ29tcG9uZW50S2V5XS5maWx0ZXIoQm9vbGVhbikuam9pbigpO1xuICAgIGVycm9yTWVzc2FnZSArPSBcIlxcblRvIGZpeCB0aGUgaXNzdWUsIGFkZCAnXCIuY29uY2F0KHNka0NvbXBvbmVudEtleSwgXCInIHRvIHRoZSBsaXN0IG9mIGNvbXBvbmVudHMgcGFzc2VkIHRvIHRoZSBwYXJlbnQgUGF5UGFsU2NyaXB0UHJvdmlkZXI6XCIpICsgXCJcXG5gPFBheVBhbFNjcmlwdFByb3ZpZGVyIG9wdGlvbnM9e3sgY29tcG9uZW50czogJ1wiLmNvbmNhdChleHBlY3RlZENvbXBvbmVudHMsIFwiJ319PmAuXCIpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSBuZXcgcmFuZG9tIGlkZW50aWZpZXIgZm9yIHJlYWN0LXBheXBhbC1qc1xuICpcbiAqIEByZXR1cm5zIHRoZSB7QGNvZGUgc3RyaW5nfSBjb250YWluaW5nIHRoZSByYW5kb20gbGlicmFyeSBuYW1lXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRTY3JpcHRJRChvcHRpb25zKSB7XG4gIC8vIGV4Y2x1ZGUgdGhlIGRhdGEtcmVhY3QtcGF5cGFsLXNjcmlwdC1pZCB2YWx1ZSBmcm9tIHRoZSBvcHRpb25zIGhhc2hcbiAgdmFyIF9hID0gb3B0aW9ucyxcbiAgICAgIF9iID0gU0NSSVBUX0lEO1xuICBfYVtfYl07XG5cbiAgdmFyIHBheXBhbFNjcmlwdE9wdGlvbnMgPSBfX3Jlc3QoX2EsIFtfYiArIFwiXCJdKTtcblxuICByZXR1cm4gXCJyZWFjdC1wYXlwYWwtanMtXCIuY29uY2F0KGhhc2hTdHIoSlNPTi5zdHJpbmdpZnkocGF5cGFsU2NyaXB0T3B0aW9ucykpKTtcbn1cbi8qKlxuICogRGVzdHJveSB0aGUgUGF5UGFsIFNESyBmcm9tIHRoZSBkb2N1bWVudCBwYWdlXG4gKlxuICogQHBhcmFtIHJlYWN0UGF5UGFsU2NyaXB0SUQgdGhlIHNjcmlwdCBpZGVudGlmaWVyXG4gKi9cblxuXG5mdW5jdGlvbiBkZXN0cm95U0RLU2NyaXB0KHJlYWN0UGF5UGFsU2NyaXB0SUQpIHtcbiAgdmFyIHNjcmlwdE5vZGUgPSBzZWxmLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRbXCIuY29uY2F0KFNDUklQVF9JRCwgXCI9XFxcIlwiKS5jb25jYXQocmVhY3RQYXlQYWxTY3JpcHRJRCwgXCJcXFwiXVwiKSk7XG5cbiAgaWYgKHNjcmlwdE5vZGUgPT09IG51bGwgfHwgc2NyaXB0Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2NyaXB0Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgc2NyaXB0Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdE5vZGUpO1xuICB9XG59XG4vKipcbiAqIFJlZHVjZXIgZnVuY3Rpb24gdG8gaGFuZGxlIGNvbXBsZXggc3RhdGUgY2hhbmdlcyBvbiB0aGUgY29udGV4dFxuICpcbiAqIEBwYXJhbSBzdGF0ZSAgdGhlIGN1cnJlbnQgc3RhdGUgb24gdGhlIGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0gYWN0aW9uIHRoZSBhY3Rpb24gdG8gYmUgZXhlY3V0ZWQgb24gdGhlIHByZXZpb3VzIHN0YXRlXG4gKiBAcmV0dXJucyBhIHRoZSBzYW1lIHN0YXRlIGlmIHRoZSBhY3Rpb24gd2Fzbid0IGZvdW5kLCBvciBhIG5ldyBzdGF0ZSBvdGhlcndpc2VcbiAqL1xuXG5cbmZ1bmN0aW9uIHNjcmlwdFJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgX2EsIF9iO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIERJU1BBVENIX0FDVElPTi5MT0FESU5HX1NUQVRVUzpcbiAgICAgIGlmICh0eXBlb2YgYWN0aW9uLnZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgICAgbG9hZGluZ1N0YXR1czogYWN0aW9uLnZhbHVlLnN0YXRlLFxuICAgICAgICAgIGxvYWRpbmdTdGF0dXNFcnJvck1lc3NhZ2U6IGFjdGlvbi52YWx1ZS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBsb2FkaW5nU3RhdHVzOiBhY3Rpb24udmFsdWVcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBESVNQQVRDSF9BQ1RJT04uUkVTRVRfT1BUSU9OUzpcbiAgICAgIC8vIGRlc3Ryb3kgZXhpc3Rpbmcgc2NyaXB0IHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBzY3JpcHQgbG9hZHMgYXQgYSB0aW1lXG4gICAgICBkZXN0cm95U0RLU2NyaXB0KHN0YXRlLm9wdGlvbnNbU0NSSVBUX0lEXSk7XG4gICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgICBsb2FkaW5nU3RhdHVzOiBTQ1JJUFRfTE9BRElOR19TVEFURS5QRU5ESU5HLFxuICAgICAgICBvcHRpb25zOiBfX2Fzc2lnbihfX2Fzc2lnbigoX2EgPSB7fSwgX2FbU0RLX1NFVFRJTkdTLkRBVEFfU0RLX0lOVEVHUkFUSU9OX1NPVVJDRV0gPSBTREtfU0VUVElOR1MuREFUQV9TREtfSU5URUdSQVRJT05fU09VUkNFX1ZBTFVFLCBfYSksIGFjdGlvbi52YWx1ZSksIChfYiA9IHt9LCBfYltTQ1JJUFRfSURdID0gXCJcIi5jb25jYXQoZ2V0U2NyaXB0SUQoYWN0aW9uLnZhbHVlKSksIF9iKSlcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBESVNQQVRDSF9BQ1RJT04uU0VUX0JSQUlOVFJFRV9JTlNUQU5DRTpcbiAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3RhdGUpLCB7XG4gICAgICAgIGJyYWludHJlZVBheVBhbENoZWNrb3V0SW5zdGFuY2U6IGFjdGlvbi52YWx1ZVxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gIH1cbn0gLy8gQ3JlYXRlIHRoZSBSZWFjdCBjb250ZXh0IHRvIHVzZSBpbiB0aGUgc2NyaXB0IHByb3ZpZGVyIGNvbXBvbmVudFxuXG5cbnZhciBTY3JpcHRDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbi8qKlxuICogQ2hlY2sgaWYgdGhlIGNvbnRleHQgaXMgdmFsaWQgYW5kIHJlYWR5IHRvIGRpc3BhdGNoIGFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHNjcmlwdENvbnRleHQgdGhlIHJlc3VsdCBvZiBjb25uZWN0aW5nIHRvIHRoZSBjb250ZXh0IHByb3ZpZGVyXG4gKiBAcmV0dXJucyBzdHJpY3QgY29udGV4dCBhdm9pZGluZyBudWxsIHZhbHVlcyBpbiB0aGUgdHlwZVxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlUmVkdWNlcihzY3JpcHRDb250ZXh0KSB7XG4gIGlmICh0eXBlb2YgKHNjcmlwdENvbnRleHQgPT09IG51bGwgfHwgc2NyaXB0Q29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2NyaXB0Q29udGV4dC5kaXNwYXRjaCkgPT09IFwiZnVuY3Rpb25cIiAmJiBzY3JpcHRDb250ZXh0LmRpc3BhdGNoLmxlbmd0aCAhPT0gMCkge1xuICAgIHJldHVybiBzY3JpcHRDb250ZXh0O1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKFNDUklQVF9QUk9WSURFUl9SRURVQ0VSX0VSUk9SKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGRhdGFDbGllbnRUb2tlbiBvciB0aGUgZGF0YVVzZXJJZFRva2VuIGFyZVxuICogc2V0IGluIHRoZSBvcHRpb25zIG9mIHRoZSBjb250ZXh0LlxuICogQHR5cGUgZGF0YUNsaWVudFRva2VuIGlzIHVzZSB0byBwYXNzIGEgY2xpZW50IHRva2VuXG4gKiBAdHlwZSBkYXRhVXNlcklkVG9rZW4gaXMgdXNlIHRvIHBhc3MgYSBjbGllbnQgdG9rZW5pemF0aW9uIGtleVxuICpcbiAqIEBwYXJhbSBzY3JpcHRDb250ZXh0IHRoZSByZXN1bHQgb2YgY29ubmVjdGluZyB0byB0aGUgY29udGV4dCBwcm92aWRlclxuICogQHRocm93cyBhbiB7QGxpbmsgRXJyb3J9IGlmIGJvdGggZGF0YUNsaWVudFRva2VuIGFuZCB0aGUgZGF0YVVzZXJJZFRva2VuIGtleXMgYXJlIG51bGwgb3IgdW5kZWZpbmVkXG4gKiBAcmV0dXJucyBzdHJpY3QgY29udGV4dCBpZiBvbmUgb2YgdGhlIGtleXMgYXJlIGRlZmluZWRcbiAqL1xuXG5cbnZhciB2YWxpZGF0ZUJyYWludHJlZUF1dGhvcml6YXRpb25EYXRhID0gZnVuY3Rpb24gKHNjcmlwdENvbnRleHQpIHtcbiAgdmFyIF9hLCBfYjtcblxuICBpZiAoISgoX2EgPSBzY3JpcHRDb250ZXh0ID09PSBudWxsIHx8IHNjcmlwdENvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjcmlwdENvbnRleHQub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW1NES19TRVRUSU5HUy5EQVRBX0NMSUVOVF9UT0tFTl0pICYmICEoKF9iID0gc2NyaXB0Q29udGV4dCA9PT0gbnVsbCB8fCBzY3JpcHRDb250ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzY3JpcHRDb250ZXh0Lm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltTREtfU0VUVElOR1MuREFUQV9VU0VSX0lEX1RPS0VOXSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoRU1QVFlfQlJBSU5UUkVFX0FVVEhPUklaQVRJT05fRVJST1JfTUVTU0FHRSk7XG4gIH1cblxuICByZXR1cm4gc2NyaXB0Q29udGV4dDtcbn07XG4vKipcbiAqIEN1c3RvbSBob29rIHRvIGdldCBhY2Nlc3MgdG8gdGhlIFNjcmlwdCBjb250ZXh0IGFuZFxuICogZGlzcGF0Y2ggYWN0aW9ucyB0byBtb2RpZnkgdGhlIHN0YXRlIG9uIHRoZSB7QGxpbmsgU2NyaXB0UHJvdmlkZXJ9IGNvbXBvbmVudFxuICpcbiAqIEByZXR1cm5zIGEgdHVwbGUgY29udGFpbmluZyB0aGUgc3RhdGUgb2YgdGhlIGNvbnRleHQgYW5kXG4gKiBhIGRpc3BhdGNoIGZ1bmN0aW9uIHRvIG1vZGlmeSB0aGUgc3RhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHVzZVBheVBhbFNjcmlwdFJlZHVjZXIoKSB7XG4gIHZhciBzY3JpcHRDb250ZXh0ID0gdmFsaWRhdGVSZWR1Y2VyKHVzZUNvbnRleHQoU2NyaXB0Q29udGV4dCkpO1xuXG4gIHZhciBkZXJpdmVkU3RhdHVzQ29udGV4dCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzY3JpcHRDb250ZXh0KSwge1xuICAgIGlzSW5pdGlhbDogc2NyaXB0Q29udGV4dC5sb2FkaW5nU3RhdHVzID09PSBTQ1JJUFRfTE9BRElOR19TVEFURS5JTklUSUFMLFxuICAgIGlzUGVuZGluZzogc2NyaXB0Q29udGV4dC5sb2FkaW5nU3RhdHVzID09PSBTQ1JJUFRfTE9BRElOR19TVEFURS5QRU5ESU5HLFxuICAgIGlzUmVzb2x2ZWQ6IHNjcmlwdENvbnRleHQubG9hZGluZ1N0YXR1cyA9PT0gU0NSSVBUX0xPQURJTkdfU1RBVEUuUkVTT0xWRUQsXG4gICAgaXNSZWplY3RlZDogc2NyaXB0Q29udGV4dC5sb2FkaW5nU3RhdHVzID09PSBTQ1JJUFRfTE9BRElOR19TVEFURS5SRUpFQ1RFRFxuICB9KTtcblxuICByZXR1cm4gW2Rlcml2ZWRTdGF0dXNDb250ZXh0LCBzY3JpcHRDb250ZXh0LmRpc3BhdGNoXTtcbn1cbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gZ2V0IGFjY2VzcyB0byB0aGUgU2NyaXB0UHJvdmlkZXIgY29udGV4dFxuICpcbiAqIEByZXR1cm5zIHRoZSBsYXRlc3Qgc3RhdGUgb2YgdGhlIGNvbnRleHRcbiAqL1xuXG5cbmZ1bmN0aW9uIHVzZVNjcmlwdFByb3ZpZGVyQ29udGV4dCgpIHtcbiAgdmFyIHNjcmlwdENvbnRleHQgPSB2YWxpZGF0ZUJyYWludHJlZUF1dGhvcml6YXRpb25EYXRhKHZhbGlkYXRlUmVkdWNlcih1c2VDb250ZXh0KFNjcmlwdENvbnRleHQpKSk7XG4gIHJldHVybiBbc2NyaXB0Q29udGV4dCwgc2NyaXB0Q29udGV4dC5kaXNwYXRjaF07XG59IC8vIENyZWF0ZSB0aGUgUmVhY3QgY29udGV4dCB0byB1c2UgaW4gdGhlIFBheVBhbCBob3N0ZWQgZmllbGRzIHByb3ZpZGVyXG5cblxudmFyIFBheVBhbEhvc3RlZEZpZWxkc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gZ2V0IGFjY2VzcyB0byB0aGUgUGF5UGFsIEhvc3RlZCBGaWVsZHMgaW5zdGFuY2UuXG4gKiBUaGUgaW5zdGFuY2UgcmVwcmVzZW50IHRoZSByZXR1cm5lZCBvYmplY3QgYWZ0ZXIgdGhlIHJlbmRlciBwcm9jZXNzXG4gKiBXaXRoIHRoaXMgb2JqZWN0IGEgdXNlciBjYW4gc3VibWl0IHRoZSBmaWVsZHMgYW5kIGR5bmFtaWNhbGx5IG1vZGlmeSB0aGUgY2FyZHNcbiAqXG4gKiBAcmV0dXJucyB0aGUgaG9zdGVkIGZpZWxkcyBpbnN0YW5jZSBpZiBpcyBhdmFpbGFibGUgaW4gdGhlIGNvbXBvbmVudFxuICovXG5cbmZ1bmN0aW9uIHVzZVBheVBhbEhvc3RlZEZpZWxkcygpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoUGF5UGFsSG9zdGVkRmllbGRzQ29udGV4dCk7XG59XG4vKipcblRoaXMgYDxQYXlQYWxCdXR0b25zIC8+YCBjb21wb25lbnQgc3VwcG9ydHMgcmVuZGVyaW5nIFtidXR0b25zXShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvYnVzaW5lc3MvamF2YXNjcmlwdC1zZGsvamF2YXNjcmlwdC1zZGstcmVmZXJlbmNlLyNidXR0b25zKSBmb3IgUGF5UGFsLCBWZW5tbywgYW5kIGFsdGVybmF0aXZlIHBheW1lbnQgbWV0aG9kcy5cbkl0IHJlbGllcyBvbiB0aGUgYDxQYXlQYWxTY3JpcHRQcm92aWRlciAvPmAgcGFyZW50IGNvbXBvbmVudCBmb3IgbWFuYWdpbmcgc3RhdGUgcmVsYXRlZCB0byBsb2FkaW5nIHRoZSBKUyBTREsgc2NyaXB0LlxuKi9cblxuXG52YXIgUGF5UGFsQnV0dG9ucyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgX2IgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfYiA9PT0gdm9pZCAwID8gXCJcIiA6IF9iLFxuICAgICAgX2MgPSBfYS5kaXNhYmxlZCxcbiAgICAgIGRpc2FibGVkID0gX2MgPT09IHZvaWQgMCA/IGZhbHNlIDogX2MsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgX2QgPSBfYS5mb3JjZVJlUmVuZGVyLFxuICAgICAgZm9yY2VSZVJlbmRlciA9IF9kID09PSB2b2lkIDAgPyBbXSA6IF9kLFxuICAgICAgYnV0dG9uUHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImRpc2FibGVkXCIsIFwiY2hpbGRyZW5cIiwgXCJmb3JjZVJlUmVuZGVyXCJdKTtcblxuICB2YXIgaXNEaXNhYmxlZFN0eWxlID0gZGlzYWJsZWQgPyB7XG4gICAgb3BhY2l0eTogMC4zOFxuICB9IDoge307XG4gIHZhciBjbGFzc05hbWVzID0gXCJcIi5jb25jYXQoY2xhc3NOYW1lLCBcIiBcIikuY29uY2F0KGRpc2FibGVkID8gXCJwYXlwYWwtYnV0dG9ucy1kaXNhYmxlZFwiIDogXCJcIikudHJpbSgpO1xuICB2YXIgYnV0dG9uc0NvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGJ1dHRvbnMgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBfZSA9IHVzZVBheVBhbFNjcmlwdFJlZHVjZXIoKVswXSxcbiAgICAgIGlzUmVzb2x2ZWQgPSBfZS5pc1Jlc29sdmVkLFxuICAgICAgb3B0aW9ucyA9IF9lLm9wdGlvbnM7XG5cbiAgdmFyIF9mID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBpbml0QWN0aW9ucyA9IF9mWzBdLFxuICAgICAgc2V0SW5pdEFjdGlvbnMgPSBfZlsxXTtcblxuICB2YXIgX2cgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzRWxpZ2libGUgPSBfZ1swXSxcbiAgICAgIHNldElzRWxpZ2libGUgPSBfZ1sxXTtcblxuICB2YXIgX2ggPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIHNldEVycm9yU3RhdGUgPSBfaFsxXTtcblxuICBmdW5jdGlvbiBjbG9zZUJ1dHRvbnNDb21wb25lbnQoKSB7XG4gICAgaWYgKGJ1dHRvbnMuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgYnV0dG9ucy5jdXJyZW50LmNsb3NlKCkuY2F0Y2goZnVuY3Rpb24gKCkgey8vIGlnbm9yZSBlcnJvcnMgd2hlbiBjbG9zaW5nIHRoZSBjb21wb25lbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSAvLyB1c2VFZmZlY3QgaG9vayBmb3IgcmVuZGVyaW5nIHRoZSBidXR0b25zXG5cblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIHZlcmlmeSB0aGUgc2RrIHNjcmlwdCBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxuICAgIGlmIChpc1Jlc29sdmVkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGNsb3NlQnV0dG9uc0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICB2YXIgcGF5cGFsV2luZG93TmFtZXNwYWNlID0gZ2V0UGF5UGFsV2luZG93TmFtZXNwYWNlJDEob3B0aW9ucy5kYXRhTmFtZXNwYWNlKTsgLy8gdmVyaWZ5IGRlcGVuZGVuY3kgb24gd2luZG93IG9iamVjdFxuXG4gICAgaWYgKHBheXBhbFdpbmRvd05hbWVzcGFjZSA9PT0gdW5kZWZpbmVkIHx8IHBheXBhbFdpbmRvd05hbWVzcGFjZS5CdXR0b25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEVycm9yU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZ2VuZXJhdGVFcnJvck1lc3NhZ2Uoe1xuICAgICAgICAgIHJlYWN0Q29tcG9uZW50TmFtZTogUGF5UGFsQnV0dG9ucy5kaXNwbGF5TmFtZSxcbiAgICAgICAgICBzZGtDb21wb25lbnRLZXk6IFwiYnV0dG9uc1wiLFxuICAgICAgICAgIHNka1JlcXVlc3RlZENvbXBvbmVudHM6IG9wdGlvbnMuY29tcG9uZW50cyxcbiAgICAgICAgICBzZGtEYXRhTmFtZXNwYWNlOiBvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2xvc2VCdXR0b25zQ29tcG9uZW50O1xuICAgIH1cblxuICAgIHZhciBkZWNvcmF0ZWRPbkluaXQgPSBmdW5jdGlvbiAoZGF0YSwgYWN0aW9ucykge1xuICAgICAgc2V0SW5pdEFjdGlvbnMoYWN0aW9ucyk7XG5cbiAgICAgIGlmICh0eXBlb2YgYnV0dG9uUHJvcHMub25Jbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYnV0dG9uUHJvcHMub25Jbml0KGRhdGEsIGFjdGlvbnMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgYnV0dG9ucy5jdXJyZW50ID0gcGF5cGFsV2luZG93TmFtZXNwYWNlLkJ1dHRvbnMoX19hc3NpZ24oX19hc3NpZ24oe30sIGJ1dHRvblByb3BzKSwge1xuICAgICAgICBvbkluaXQ6IGRlY29yYXRlZE9uSW5pdFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHNldEVycm9yU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmVuZGVyIDxQYXlQYWxCdXR0b25zIC8+IGNvbXBvbmVudC4gRmFpbGVkIHRvIGluaXRpYWxpemU6ICBcIi5jb25jYXQoZXJyKSk7XG4gICAgICB9KTtcbiAgICB9IC8vIG9ubHkgcmVuZGVyIHRoZSBidXR0b24gd2hlbiBlbGlnaWJsZVxuXG5cbiAgICBpZiAoYnV0dG9ucy5jdXJyZW50LmlzRWxpZ2libGUoKSA9PT0gZmFsc2UpIHtcbiAgICAgIHNldElzRWxpZ2libGUoZmFsc2UpO1xuICAgICAgcmV0dXJuIGNsb3NlQnV0dG9uc0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBpZiAoIWJ1dHRvbnNDb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuIGNsb3NlQnV0dG9uc0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBidXR0b25zLmN1cnJlbnQucmVuZGVyKGJ1dHRvbnNDb250YWluZXJSZWYuY3VycmVudCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gY29tcG9uZW50IGZhaWxlZCB0byByZW5kZXIsIHBvc3NpYmx5IGJlY2F1c2UgaXQgd2FzIGNsb3NlZCBvciBkZXN0cm95ZWQuXG4gICAgICBpZiAoYnV0dG9uc0NvbnRhaW5lclJlZi5jdXJyZW50ID09PSBudWxsIHx8IGJ1dHRvbnNDb250YWluZXJSZWYuY3VycmVudC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gcGF5cGFsIGJ1dHRvbnMgY29udGFpbmVyIGlzIG5vIGxvbmdlciBpbiB0aGUgRE9NLCB3ZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgZXJyb3JcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBwYXlwYWwgYnV0dG9ucyBjb250YWluZXIgaXMgc3RpbGwgaW4gdGhlIERPTVxuXG5cbiAgICAgIHNldEVycm9yU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcmVuZGVyIDxQYXlQYWxCdXR0b25zIC8+IGNvbXBvbmVudC4gXCIuY29uY2F0KGVycikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb3NlQnV0dG9uc0NvbXBvbmVudDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW2lzUmVzb2x2ZWRdLCBmb3JjZVJlUmVuZGVyLCB0cnVlKSwgW2J1dHRvblByb3BzLmZ1bmRpbmdTb3VyY2VdLCBmYWxzZSkpOyAvLyB1c2VFZmZlY3QgaG9vayBmb3IgbWFuYWdpbmcgZGlzYWJsZWQgc3RhdGVcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpbml0QWN0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgaW5pdEFjdGlvbnMuZGlzYWJsZSgpLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBpZ25vcmUgZXJyb3JzIHdoZW4gZGlzYWJsaW5nIHRoZSBjb21wb25lbnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0QWN0aW9ucy5lbmFibGUoKS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gaWdub3JlIGVycm9ycyB3aGVuIGVuYWJsaW5nIHRoZSBjb21wb25lbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkLCBpbml0QWN0aW9uc10pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgaXNFbGlnaWJsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJlZjogYnV0dG9uc0NvbnRhaW5lclJlZixcbiAgICBzdHlsZTogaXNEaXNhYmxlZFN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lc1xuICB9KSA6IGNoaWxkcmVuKTtcbn07XG5cblBheVBhbEJ1dHRvbnMuZGlzcGxheU5hbWUgPSBcIlBheVBhbEJ1dHRvbnNcIjtcblxuZnVuY3Rpb24gZmluZFNjcmlwdCh1cmwsIGF0dHJpYnV0ZXMpIHtcbiAgdmFyIGN1cnJlbnRTY3JpcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W3NyYz1cXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiXVwiKSk7XG4gIGlmIChjdXJyZW50U2NyaXB0ID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgdmFyIG5leHRTY3JpcHQgPSBjcmVhdGVTY3JpcHRFbGVtZW50KHVybCwgYXR0cmlidXRlcyk7XG4gIHZhciBjdXJyZW50U2NyaXB0Q2xvbmUgPSBjdXJyZW50U2NyaXB0LmNsb25lTm9kZSgpO1xuICBkZWxldGUgY3VycmVudFNjcmlwdENsb25lLmRhdGFzZXQudWlkQXV0bztcblxuICBpZiAoT2JqZWN0LmtleXMoY3VycmVudFNjcmlwdENsb25lLmRhdGFzZXQpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMobmV4dFNjcmlwdC5kYXRhc2V0KS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBpc0V4YWN0TWF0Y2ggPSB0cnVlO1xuICBPYmplY3Qua2V5cyhjdXJyZW50U2NyaXB0Q2xvbmUuZGF0YXNldCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGN1cnJlbnRTY3JpcHRDbG9uZS5kYXRhc2V0W2tleV0gIT09IG5leHRTY3JpcHQuZGF0YXNldFtrZXldKSB7XG4gICAgICBpc0V4YWN0TWF0Y2ggPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaXNFeGFjdE1hdGNoID8gY3VycmVudFNjcmlwdCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGluc2VydFNjcmlwdEVsZW1lbnQoX2EpIHtcbiAgdmFyIHVybCA9IF9hLnVybCxcbiAgICAgIGF0dHJpYnV0ZXMgPSBfYS5hdHRyaWJ1dGVzLFxuICAgICAgb25TdWNjZXNzID0gX2Eub25TdWNjZXNzLFxuICAgICAgb25FcnJvciA9IF9hLm9uRXJyb3I7XG4gIHZhciBuZXdTY3JpcHQgPSBjcmVhdGVTY3JpcHRFbGVtZW50KHVybCwgYXR0cmlidXRlcyk7XG4gIG5ld1NjcmlwdC5vbmVycm9yID0gb25FcnJvcjtcbiAgbmV3U2NyaXB0Lm9ubG9hZCA9IG9uU3VjY2VzcztcbiAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUobmV3U2NyaXB0LCBkb2N1bWVudC5oZWFkLmZpcnN0RWxlbWVudENoaWxkKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc09wdGlvbnMob3B0aW9ucykge1xuICB2YXIgc2RrQmFzZVVybCA9IFwiaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9zZGsvanNcIjtcblxuICBpZiAob3B0aW9ucy5zZGtCYXNlVXJsKSB7XG4gICAgc2RrQmFzZVVybCA9IG9wdGlvbnMuc2RrQmFzZVVybDtcbiAgICBkZWxldGUgb3B0aW9ucy5zZGtCYXNlVXJsO1xuICB9XG5cbiAgdmFyIG9wdGlvbnNXaXRoU3RyaW5nSW5kZXggPSBvcHRpb25zO1xuXG4gIHZhciBfYSA9IE9iamVjdC5rZXlzKG9wdGlvbnNXaXRoU3RyaW5nSW5kZXgpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zV2l0aFN0cmluZ0luZGV4W2tleV0gIT09IFwidW5kZWZpbmVkXCIgJiYgb3B0aW9uc1dpdGhTdHJpbmdJbmRleFtrZXldICE9PSBudWxsICYmIG9wdGlvbnNXaXRoU3RyaW5nSW5kZXhba2V5XSAhPT0gXCJcIjtcbiAgfSkucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwga2V5KSB7XG4gICAgdmFyIHZhbHVlID0gb3B0aW9uc1dpdGhTdHJpbmdJbmRleFtrZXldLnRvU3RyaW5nKCk7XG4gICAga2V5ID0gY2FtZWxDYXNlVG9LZWJhYkNhc2Uoa2V5KTtcblxuICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDQpID09PSBcImRhdGFcIikge1xuICAgICAgYWNjdW11bGF0b3IuZGF0YUF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY2N1bXVsYXRvci5xdWVyeVBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9LCB7XG4gICAgcXVlcnlQYXJhbXM6IHt9LFxuICAgIGRhdGFBdHRyaWJ1dGVzOiB7fVxuICB9KSxcbiAgICAgIHF1ZXJ5UGFyYW1zID0gX2EucXVlcnlQYXJhbXMsXG4gICAgICBkYXRhQXR0cmlidXRlcyA9IF9hLmRhdGFBdHRyaWJ1dGVzO1xuXG4gIGlmIChxdWVyeVBhcmFtc1tcIm1lcmNoYW50LWlkXCJdICYmIHF1ZXJ5UGFyYW1zW1wibWVyY2hhbnQtaWRcIl0uaW5kZXhPZihcIixcIikgIT09IC0xKSB7XG4gICAgZGF0YUF0dHJpYnV0ZXNbXCJkYXRhLW1lcmNoYW50LWlkXCJdID0gcXVlcnlQYXJhbXNbXCJtZXJjaGFudC1pZFwiXTtcbiAgICBxdWVyeVBhcmFtc1tcIm1lcmNoYW50LWlkXCJdID0gXCIqXCI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVybDogXCJcIi5jb25jYXQoc2RrQmFzZVVybCwgXCI/XCIpLmNvbmNhdChvYmplY3RUb1F1ZXJ5U3RyaW5nKHF1ZXJ5UGFyYW1zKSksXG4gICAgZGF0YUF0dHJpYnV0ZXM6IGRhdGFBdHRyaWJ1dGVzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvS2ViYWJDYXNlKHN0cikge1xuICB2YXIgcmVwbGFjZXIgPSBmdW5jdGlvbiAobWF0Y2gsIGluZGV4T2ZNYXRjaCkge1xuICAgIHJldHVybiAoaW5kZXhPZk1hdGNoID8gXCItXCIgOiBcIlwiKSArIG1hdGNoLnRvTG93ZXJDYXNlKCk7XG4gIH07XG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bQS1aXSsoPyFbYS16XSl8W0EtWl0vZywgcmVwbGFjZXIpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RUb1F1ZXJ5U3RyaW5nKHBhcmFtcykge1xuICB2YXIgcXVlcnlTdHJpbmcgPSBcIlwiO1xuICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChxdWVyeVN0cmluZy5sZW5ndGggIT09IDApIHF1ZXJ5U3RyaW5nICs9IFwiJlwiO1xuICAgIHF1ZXJ5U3RyaW5nICs9IGtleSArIFwiPVwiICsgcGFyYW1zW2tleV07XG4gIH0pO1xuICByZXR1cm4gcXVlcnlTdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNjcmlwdEVsZW1lbnQodXJsLCBhdHRyaWJ1dGVzKSB7XG4gIGlmIChhdHRyaWJ1dGVzID09PSB2b2lkIDApIHtcbiAgICBhdHRyaWJ1dGVzID0ge307XG4gIH1cblxuICB2YXIgbmV3U2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgbmV3U2NyaXB0LnNyYyA9IHVybDtcbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgbmV3U2NyaXB0LnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cbiAgICBpZiAoa2V5ID09PSBcImRhdGEtY3NwLW5vbmNlXCIpIHtcbiAgICAgIG5ld1NjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBhdHRyaWJ1dGVzW1wiZGF0YS1jc3Atbm9uY2VcIl0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXdTY3JpcHQ7XG59XG5cbmZ1bmN0aW9uIGxvYWRTY3JpcHQob3B0aW9ucywgUHJvbWlzZVBvbnlmaWxsKSB7XG4gIGlmIChQcm9taXNlUG9ueWZpbGwgPT09IHZvaWQgMCkge1xuICAgIFByb21pc2VQb255ZmlsbCA9IFByb21pc2U7XG4gIH1cblxuICB2YWxpZGF0ZUFyZ3VtZW50cyhvcHRpb25zLCBQcm9taXNlUG9ueWZpbGwpO1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gUHJvbWlzZVBvbnlmaWxsLnJlc29sdmUobnVsbCk7XG5cbiAgdmFyIF9hID0gcHJvY2Vzc09wdGlvbnMob3B0aW9ucyksXG4gICAgICB1cmwgPSBfYS51cmwsXG4gICAgICBkYXRhQXR0cmlidXRlcyA9IF9hLmRhdGFBdHRyaWJ1dGVzO1xuXG4gIHZhciBuYW1lc3BhY2UgPSBkYXRhQXR0cmlidXRlc1tcImRhdGEtbmFtZXNwYWNlXCJdIHx8IFwicGF5cGFsXCI7XG4gIHZhciBleGlzdGluZ1dpbmRvd05hbWVzcGFjZSA9IGdldFBheVBhbFdpbmRvd05hbWVzcGFjZShuYW1lc3BhY2UpO1xuXG4gIGlmIChmaW5kU2NyaXB0KHVybCwgZGF0YUF0dHJpYnV0ZXMpICYmIGV4aXN0aW5nV2luZG93TmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuIFByb21pc2VQb255ZmlsbC5yZXNvbHZlKGV4aXN0aW5nV2luZG93TmFtZXNwYWNlKTtcbiAgfVxuXG4gIHJldHVybiBsb2FkQ3VzdG9tU2NyaXB0KHtcbiAgICB1cmw6IHVybCxcbiAgICBhdHRyaWJ1dGVzOiBkYXRhQXR0cmlidXRlc1xuICB9LCBQcm9taXNlUG9ueWZpbGwpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXdXaW5kb3dOYW1lc3BhY2UgPSBnZXRQYXlQYWxXaW5kb3dOYW1lc3BhY2UobmFtZXNwYWNlKTtcblxuICAgIGlmIChuZXdXaW5kb3dOYW1lc3BhY2UpIHtcbiAgICAgIHJldHVybiBuZXdXaW5kb3dOYW1lc3BhY2U7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHdpbmRvdy5cIi5jb25jYXQobmFtZXNwYWNlLCBcIiBnbG9iYWwgdmFyaWFibGUgaXMgbm90IGF2YWlsYWJsZS5cIikpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEN1c3RvbVNjcmlwdChvcHRpb25zLCBQcm9taXNlUG9ueWZpbGwpIHtcbiAgaWYgKFByb21pc2VQb255ZmlsbCA9PT0gdm9pZCAwKSB7XG4gICAgUHJvbWlzZVBvbnlmaWxsID0gUHJvbWlzZTtcbiAgfVxuXG4gIHZhbGlkYXRlQXJndW1lbnRzKG9wdGlvbnMsIFByb21pc2VQb255ZmlsbCk7XG4gIHZhciB1cmwgPSBvcHRpb25zLnVybCxcbiAgICAgIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXM7XG5cbiAgaWYgKHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgfHwgdXJsLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXJsLlwiKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgYXR0cmlidXRlcyAhPT0gXCJvYmplY3RcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGF0dHJpYnV0ZXMgdG8gYmUgYW4gb2JqZWN0LlwiKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZVBvbnlmaWxsKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgIGluc2VydFNjcmlwdEVsZW1lbnQoe1xuICAgICAgdXJsOiB1cmwsXG4gICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmYXVsdEVycm9yID0gbmV3IEVycm9yKFwiVGhlIHNjcmlwdCBcXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiIGZhaWxlZCB0byBsb2FkLiBDaGVjayB0aGUgSFRUUCBzdGF0dXMgY29kZSBhbmQgcmVzcG9uc2UgYm9keSBpbiBEZXZUb29scyB0byBsZWFybiBtb3JlLlwiKSk7XG4gICAgICAgIHJldHVybiByZWplY3QoZGVmYXVsdEVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFBheVBhbFdpbmRvd05hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgcmV0dXJuIHdpbmRvd1tuYW1lc3BhY2VdO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUFyZ3VtZW50cyhvcHRpb25zLCBQcm9taXNlUG9ueWZpbGwpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSBcIm9iamVjdFwiIHx8IG9wdGlvbnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhbiBvcHRpb25zIG9iamVjdC5cIik7XG4gIH1cblxuICBpZiAodHlwZW9mIFByb21pc2VQb255ZmlsbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgUHJvbWlzZVBvbnlmaWxsICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBQcm9taXNlUG9ueWZpbGwgdG8gYmUgYSBmdW5jdGlvbi5cIik7XG4gIH1cbn1cbi8qKlxuICogU2ltcGxlIGNoZWNrIHRvIGRldGVybWluZSBpZiB0aGUgQnJhaW50cmVlIGlzIGEgdmFsaWQgbmFtZXNwYWNlLlxuICpcbiAqIEBwYXJhbSBicmFpbnRyZWVTb3VyY2UgdGhlIHNvdXJjZSB7QGxpbmsgQnJhaW50cmVlTmFtZXNwYWNlfVxuICogQHJldHVybnMgYSBib29sZWFuIHJlcHJlc2VudGluZyBpZiB0aGUgbmFtZXNwYWNlIGlzIHZhbGlkLlxuICovXG5cblxudmFyIGlzVmFsaWRCcmFpbnRyZWVOYW1lc3BhY2UgPSBmdW5jdGlvbiAoYnJhaW50cmVlU291cmNlKSB7XG4gIHZhciBfYSwgX2I7XG5cbiAgaWYgKHR5cGVvZiAoKF9hID0gYnJhaW50cmVlU291cmNlID09PSBudWxsIHx8IGJyYWludHJlZVNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnJhaW50cmVlU291cmNlLmNsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZSkgIT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgKChfYiA9IGJyYWludHJlZVNvdXJjZSA9PT0gbnVsbCB8fCBicmFpbnRyZWVTb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJyYWludHJlZVNvdXJjZS5wYXlwYWxDaGVja291dCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNyZWF0ZSkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBicmFpbnRyZWVOYW1lc3BhY2UgcHJvcGVydHkgaXMgbm90IGEgdmFsaWQgQnJhaW50cmVlTmFtZXNwYWNlIHR5cGUuXCIpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG4gKiBVc2UgYGFjdGlvbnMuYnJhaW50cmVlYCB0byBwcm92aWRlIGFuIGludGVyZmFjZSBmb3IgdGhlIHBheXBhbENoZWNrb3V0SW5zdGFuY2VcbiAqIHRocm91Z2ggdGhlIGNyZWF0ZU9yZGVyLCBjcmVhdGVCaWxsaW5nQWdyZWVtZW50IGFuZCBvbkFwcHJvdmUgY2FsbGJhY2tzXG4gKlxuICogQHBhcmFtIGJyYWludHJlZUJ1dHRvblByb3BzIHRoZSBjb21wb25lbnQgYnV0dG9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIGEgbmV3IGNvcHkgb2YgdGhlIGNvbXBvbmVudCBidXR0b24gb3B0aW9ucyBjYXN0ZWQgYXMge0BsaW5rIFBheVBhbEJ1dHRvbnNDb21wb25lbnRQcm9wc31cbiAqL1xuXG5cbnZhciBkZWNvcmF0ZUFjdGlvbnMgPSBmdW5jdGlvbiAoYnV0dG9uUHJvcHMsIHBheVBhbENoZWNrb3V0SW5zdGFuY2UpIHtcbiAgdmFyIGNyZWF0ZU9yZGVyUmVmID0gYnV0dG9uUHJvcHMuY3JlYXRlT3JkZXI7XG4gIHZhciBjcmVhdGVCaWxsaW5nQWdyZWVtZW50UmVmID0gYnV0dG9uUHJvcHMuY3JlYXRlQmlsbGluZ0FncmVlbWVudDtcbiAgdmFyIG9uQXBwcm92ZVJlZiA9IGJ1dHRvblByb3BzLm9uQXBwcm92ZTtcblxuICBpZiAodHlwZW9mIGNyZWF0ZU9yZGVyUmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBidXR0b25Qcm9wcy5jcmVhdGVPcmRlciA9IGZ1bmN0aW9uIChkYXRhLCBhY3Rpb25zKSB7XG4gICAgICByZXR1cm4gY3JlYXRlT3JkZXJSZWYoZGF0YSwgX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbnMpLCB7XG4gICAgICAgIGJyYWludHJlZTogcGF5UGFsQ2hlY2tvdXRJbnN0YW5jZVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIGNyZWF0ZUJpbGxpbmdBZ3JlZW1lbnRSZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGJ1dHRvblByb3BzLmNyZWF0ZUJpbGxpbmdBZ3JlZW1lbnQgPSBmdW5jdGlvbiAoZGF0YSwgYWN0aW9ucykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJpbGxpbmdBZ3JlZW1lbnRSZWYoZGF0YSwgX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbnMpLCB7XG4gICAgICAgIGJyYWludHJlZTogcGF5UGFsQ2hlY2tvdXRJbnN0YW5jZVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIG9uQXBwcm92ZVJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgYnV0dG9uUHJvcHMub25BcHByb3ZlID0gZnVuY3Rpb24gKGRhdGEsIGFjdGlvbnMpIHtcbiAgICAgIHJldHVybiBvbkFwcHJvdmVSZWYoZGF0YSwgX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbnMpLCB7XG4gICAgICAgIGJyYWludHJlZTogcGF5UGFsQ2hlY2tvdXRJbnN0YW5jZVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX19hc3NpZ24oe30sIGJ1dHRvblByb3BzKTtcbn07XG4vKipcbiAqIEdldCB0aGUgQnJhaW50cmVlIG5hbWVzcGFjZSBmcm9tIHRoZSBjb21wb25lbnQgcHJvcHMuXG4gKiBJZiB0aGUgcHJvcCBgYnJhaW50cmVlTmFtZXNwYWNlYCBpcyB1bmRlZmluZWQgd2lsbCB0cnkgdG8gbG9hZCBpdCBmcm9tIHRoZSBDRE4uXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyB1c2VycyB0byBzZXQgdGhlIGJyYWludHJlZSBtYW51YWxseSBvbiB0aGUgYEJyYWludHJlZVBheVBhbEJ1dHRvbnNgIGNvbXBvbmVudC5cbiAqXG4gKiBVc2UgY2FzZSBjYW4gYmUgZm9yIGV4YW1wbGUgbGVnYWN5IHNpdGVzIHVzaW5nIEFNRC9VTUQgbW9kdWxlcyxcbiAqIHRyeWluZyB0byBpbnRlZ3JhdGUgdGhlIGBCcmFpbnRyZWVQYXlQYWxCdXR0b25zYCBjb21wb25lbnQuXG4gKiBJZiB3ZSBhdHRlbXB0IHRvIGxvYWQgdGhlIEJyYWludHJlZSBmcm9tIHRoZSBDRE4gd29uJ3QgZGVmaW5lIHRoZSBicmFpbnRyZWUgbmFtZXNwYWNlLlxuICogVGhpcyBoYXBwZW5zIGJlY2F1c2UgdGhlIGJyYWludHJlZSBzY3JpcHQgaXMgYW4gVU1EIG1vZHVsZS5cbiAqIEFmdGVyIGRldGVjdGluZyB0aGUgQU1EIG9uIHRoZSBnbG9iYWwgc2NvcGUgd2lsbCBjcmVhdGUgYW4gYW5vbnltb3VzIG1vZHVsZSB1c2luZyBgZGVmaW5lYFxuICogYW5kIHRoZSBgQnJhaW50cmVlUGF5UGFsQnV0dG9uc2Agd29uJ3QgYmUgYWJsZSB0byBnZXQgYWNjZXNzIHRvIHRoZSBgd2luZG93LmJyYWludHJlZWAgbmFtZXNwYWNlXG4gKiBmcm9tIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0gYnJhaW50cmVlU291cmNlIHRoZSBzb3VyY2Uge0BsaW5rIEJyYWludHJlZU5hbWVzcGFjZX1cbiAqIEByZXR1cm5zIHRoZSB7QGxpbmsgQnJhaW50cmVlTmFtZXNwYWNlfVxuICovXG5cblxudmFyIGdldEJyYWludHJlZU5hbWVzcGFjZSA9IGZ1bmN0aW9uIChicmFpbnRyZWVTb3VyY2UpIHtcbiAgaWYgKGJyYWludHJlZVNvdXJjZSAmJiBpc1ZhbGlkQnJhaW50cmVlTmFtZXNwYWNlKGJyYWludHJlZVNvdXJjZSkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJyYWludHJlZVNvdXJjZSk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW2xvYWRDdXN0b21TY3JpcHQoe1xuICAgIHVybDogQlJBSU5UUkVFX1NPVVJDRVxuICB9KSwgbG9hZEN1c3RvbVNjcmlwdCh7XG4gICAgdXJsOiBCUkFJTlRSRUVfUEFZUEFMX0NIRUNLT1VUX1NPVVJDRVxuICB9KV0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRCcmFpbnRyZWVXaW5kb3dOYW1lc3BhY2UoKTtcbiAgfSk7XG59O1xuLyoqXG5UaGlzIGA8QnJhaW50cmVlUGF5UGFsQnV0dG9ucyAvPmAgY29tcG9uZW50IHJlbmRlcnMgdGhlIFtCcmFpbnRyZWUgUGF5UGFsIEJ1dHRvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLnBheXBhbC5jb20vYnJhaW50cmVlL2RvY3MvZ3VpZGVzL3BheXBhbC9vdmVydmlldykgZm9yIEJyYWludHJlZSBNZXJjaGFudHMuXG5JdCByZWxpZXMgb24gdGhlIGA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgLz5gIHBhcmVudCBjb21wb25lbnQgZm9yIG1hbmFnaW5nIHN0YXRlIHJlbGF0ZWQgdG8gbG9hZGluZyB0aGUgSlMgU0RLIHNjcmlwdC5cblxuTm90ZTogWW91IGFyZSBhYmxlIHRvIG1ha2UgeW91ciBpbnRlZ3JhdGlvbiB1c2luZyB0aGUgY2xpZW50IHRva2VuIG9yIHVzaW5nIHRoZSB0b2tlbml6YXRpb24ga2V5LlxuXG4tIFRvIHVzZSB0aGUgY2xpZW50IHRva2VuIGludGVncmF0aW9uIHNldCB0aGUga2V5IGBkYXRhQ2xpZW50VG9rZW5gIGluIHRoZSBgUGF5UGF5U2NyaXB0UHJvdmlkZXJgIGNvbXBvbmVudCdzIG9wdGlvbnMuXG4tIFRvIHVzZSB0aGUgdG9rZW5pemF0aW9uIGtleSBpbnRlZ3JhdGlvbiBzZXQgdGhlIGtleSBgZGF0YVVzZXJJZFRva2VuYCBpbiB0aGUgYFBheVBheVNjcmlwdFByb3ZpZGVyYCBjb21wb25lbnQncyBvcHRpb25zLlxuKi9cblxuXG52YXIgQnJhaW50cmVlUGF5UGFsQnV0dG9ucyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgX2IgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfYiA9PT0gdm9pZCAwID8gXCJcIiA6IF9iLFxuICAgICAgX2MgPSBfYS5kaXNhYmxlZCxcbiAgICAgIGRpc2FibGVkID0gX2MgPT09IHZvaWQgMCA/IGZhbHNlIDogX2MsXG4gICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgX2QgPSBfYS5mb3JjZVJlUmVuZGVyLFxuICAgICAgZm9yY2VSZVJlbmRlciA9IF9kID09PSB2b2lkIDAgPyBbXSA6IF9kLFxuICAgICAgYnJhaW50cmVlTmFtZXNwYWNlID0gX2EuYnJhaW50cmVlTmFtZXNwYWNlLFxuICAgICAgbWVyY2hhbnRBY2NvdW50SWQgPSBfYS5tZXJjaGFudEFjY291bnRJZCxcbiAgICAgIGJ1dHRvblByb3BzID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJkaXNhYmxlZFwiLCBcImNoaWxkcmVuXCIsIFwiZm9yY2VSZVJlbmRlclwiLCBcImJyYWludHJlZU5hbWVzcGFjZVwiLCBcIm1lcmNoYW50QWNjb3VudElkXCJdKTtcblxuICB2YXIgX2UgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIHNldEVycm9yU3RhdGUgPSBfZVsxXTtcblxuICB2YXIgX2YgPSB1c2VTY3JpcHRQcm92aWRlckNvbnRleHQoKSxcbiAgICAgIHByb3ZpZGVyQ29udGV4dCA9IF9mWzBdLFxuICAgICAgZGlzcGF0Y2ggPSBfZlsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGdldEJyYWludHJlZU5hbWVzcGFjZShicmFpbnRyZWVOYW1lc3BhY2UpLnRoZW4oZnVuY3Rpb24gKGJyYWludHJlZSkge1xuICAgICAgdmFyIGNsaWVudFRva2VuaXphdGlvbktleSA9IHByb3ZpZGVyQ29udGV4dC5vcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX1VTRVJfSURfVE9LRU5dO1xuICAgICAgdmFyIGNsaWVudFRva2VuID0gcHJvdmlkZXJDb250ZXh0Lm9wdGlvbnNbU0RLX1NFVFRJTkdTLkRBVEFfQ0xJRU5UX1RPS0VOXTtcbiAgICAgIHJldHVybiBicmFpbnRyZWUuY2xpZW50LmNyZWF0ZSh7XG4gICAgICAgIGF1dGhvcml6YXRpb246IGNsaWVudFRva2VuaXphdGlvbktleSB8fCBjbGllbnRUb2tlblxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoY2xpZW50SW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIG1lcmNoYW50UHJvcCA9IG1lcmNoYW50QWNjb3VudElkID8ge1xuICAgICAgICAgIG1lcmNoYW50QWNjb3VudElkOiBtZXJjaGFudEFjY291bnRJZFxuICAgICAgICB9IDoge307XG4gICAgICAgIHJldHVybiBicmFpbnRyZWUucGF5cGFsQ2hlY2tvdXQuY3JlYXRlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXJjaGFudFByb3ApLCB7XG4gICAgICAgICAgY2xpZW50OiBjbGllbnRJbnN0YW5jZVxuICAgICAgICB9KSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChwYXlwYWxDaGVja291dEluc3RhbmNlKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBESVNQQVRDSF9BQ1RJT04uU0VUX0JSQUlOVFJFRV9JTlNUQU5DRSxcbiAgICAgICAgICB2YWx1ZTogcGF5cGFsQ2hlY2tvdXRJbnN0YW5jZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHNldEVycm9yU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoTE9BRF9TQ1JJUFRfRVJST1IsIFwiIFwiKS5jb25jYXQoZXJyKSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbcHJvdmlkZXJDb250ZXh0Lm9wdGlvbnNdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHByb3ZpZGVyQ29udGV4dC5icmFpbnRyZWVQYXlQYWxDaGVja291dEluc3RhbmNlICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGF5UGFsQnV0dG9ucywgX19hc3NpZ24oe1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBmb3JjZVJlUmVuZGVyOiBmb3JjZVJlUmVuZGVyXG4gIH0sIGRlY29yYXRlQWN0aW9ucyhidXR0b25Qcm9wcywgcHJvdmlkZXJDb250ZXh0LmJyYWludHJlZVBheVBhbENoZWNrb3V0SW5zdGFuY2UpKSwgY2hpbGRyZW4pKTtcbn07XG4vKipcblRoZSBgPFBheVBhbE1hcmtzIC8+YCBjb21wb25lbnQgaXMgdXNlZCBmb3IgY29uZGl0aW9uYWxseSByZW5kZXJpbmcgZGlmZmVyZW50IHBheW1lbnQgb3B0aW9ucyB1c2luZyByYWRpbyBidXR0b25zLlxuVGhlIFtEaXNwbGF5IFBheVBhbCBCdXR0b25zIHdpdGggb3RoZXIgUGF5bWVudCBNZXRob2RzIGd1aWRlXShodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvYnVzaW5lc3MvY2hlY2tvdXQvYWRkLWNhcGFiaWxpdGllcy9idXllci1leHBlcmllbmNlLyNkaXNwbGF5LXBheXBhbC1idXR0b25zLXdpdGgtb3RoZXItcGF5bWVudC1tZXRob2RzKSBkZXNjcmliZXMgdGhpcyBzdHlsZSBvZiBpbnRlZ3JhdGlvbiBpbiBkZXRhaWwuXG5JdCByZWxpZXMgb24gdGhlIGA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgLz5gIHBhcmVudCBjb21wb25lbnQgZm9yIG1hbmFnaW5nIHN0YXRlIHJlbGF0ZWQgdG8gbG9hZGluZyB0aGUgSlMgU0RLIHNjcmlwdC5cblxuVGhpcyBjb21wb25lbnQgY2FuIGFsc28gYmUgY29uZmlndXJlZCB0byB1c2UgYSBzaW5nbGUgZnVuZGluZyBzb3VyY2Ugc2ltaWxhciB0byB0aGUgW3N0YW5kYWxvbmUgYnV0dG9uc10oaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9kb2NzL2J1c2luZXNzL2NoZWNrb3V0L2NvbmZpZ3VyZS1wYXltZW50cy9zdGFuZGFsb25lLWJ1dHRvbnMvKSBhcHByb2FjaC5cbkEgYEZVTkRJTkdgIG9iamVjdCBpcyBleHBvcnRlZCBieSB0aGlzIGxpYnJhcnkgd2hpY2ggaGFzIGEga2V5IGZvciBldmVyeSBhdmFpbGFibGUgZnVuZGluZyBzb3VyY2Ugb3B0aW9uLlxuKi9cblxuXG52YXIgUGF5UGFsTWFya3MgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIF9iID0gX2EuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX2IgPT09IHZvaWQgMCA/IFwiXCIgOiBfYixcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBtYXJrUHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCJdKTtcblxuICB2YXIgX2MgPSB1c2VQYXlQYWxTY3JpcHRSZWR1Y2VyKClbMF0sXG4gICAgICBpc1Jlc29sdmVkID0gX2MuaXNSZXNvbHZlZCxcbiAgICAgIG9wdGlvbnMgPSBfYy5vcHRpb25zO1xuICB2YXIgbWFya0NvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcblxuICB2YXIgX2QgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzRWxpZ2libGUgPSBfZFswXSxcbiAgICAgIHNldElzRWxpZ2libGUgPSBfZFsxXTtcblxuICB2YXIgX2UgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIHNldEVycm9yU3RhdGUgPSBfZVsxXTtcbiAgLyoqXG4gICAqIFJlbmRlciBQYXlQYWwgTWFyayBpbnRvIHRoZSBET01cbiAgICovXG5cblxuICB2YXIgcmVuZGVyUGF5UGFsTWFyayA9IGZ1bmN0aW9uIChtYXJrKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBtYXJrQ29udGFpbmVyUmVmLmN1cnJlbnQ7IC8vIG9ubHkgcmVuZGVyIHRoZSBtYXJrIHdoZW4gZWxpZ2libGVcblxuICAgIGlmICghY3VycmVudCB8fCAhbWFyay5pc0VsaWdpYmxlKCkpIHtcbiAgICAgIHJldHVybiBzZXRJc0VsaWdpYmxlKGZhbHNlKTtcbiAgICB9IC8vIFJlbW92ZSBhbnkgY2hpbGRyZW4gYmVmb3JlIHJlbmRlciBpdCBhZ2FpblxuXG5cbiAgICBpZiAoY3VycmVudC5maXJzdENoaWxkKSB7XG4gICAgICBjdXJyZW50LnJlbW92ZUNoaWxkKGN1cnJlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgbWFyay5yZW5kZXIoY3VycmVudCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gY29tcG9uZW50IGZhaWxlZCB0byByZW5kZXIsIHBvc3NpYmx5IGJlY2F1c2UgaXQgd2FzIGNsb3NlZCBvciBkZXN0cm95ZWQuXG4gICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBwYXlwYWwgbWFya3MgY29udGFpbmVyIGlzIG5vIGxvbmdlciBpbiB0aGUgRE9NLCB3ZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgZXJyb3JcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBwYXlwYWwgbWFya3MgY29udGFpbmVyIGlzIHN0aWxsIGluIHRoZSBET01cblxuXG4gICAgICBzZXRFcnJvclN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlbmRlciA8UGF5UGFsTWFya3MgLz4gY29tcG9uZW50LiBcIi5jb25jYXQoZXJyKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIHZlcmlmeSB0aGUgc2RrIHNjcmlwdCBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxuICAgIGlmIChpc1Jlc29sdmVkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwYXlwYWxXaW5kb3dOYW1lc3BhY2UgPSBnZXRQYXlQYWxXaW5kb3dOYW1lc3BhY2UkMShvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV0pOyAvLyB2ZXJpZnkgZGVwZW5kZW5jeSBvbiB3aW5kb3cgb2JqZWN0XG5cbiAgICBpZiAocGF5cGFsV2luZG93TmFtZXNwYWNlID09PSB1bmRlZmluZWQgfHwgcGF5cGFsV2luZG93TmFtZXNwYWNlLk1hcmtzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzZXRFcnJvclN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdlbmVyYXRlRXJyb3JNZXNzYWdlKHtcbiAgICAgICAgICByZWFjdENvbXBvbmVudE5hbWU6IFBheVBhbE1hcmtzLmRpc3BsYXlOYW1lLFxuICAgICAgICAgIHNka0NvbXBvbmVudEtleTogXCJtYXJrc1wiLFxuICAgICAgICAgIHNka1JlcXVlc3RlZENvbXBvbmVudHM6IG9wdGlvbnMuY29tcG9uZW50cyxcbiAgICAgICAgICBzZGtEYXRhTmFtZXNwYWNlOiBvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUGF5UGFsTWFyayhwYXlwYWxXaW5kb3dOYW1lc3BhY2UuTWFya3MoX19hc3NpZ24oe30sIG1hcmtQcm9wcykpKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbaXNSZXNvbHZlZCwgbWFya1Byb3BzLmZ1bmRpbmdTb3VyY2VdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGlzRWxpZ2libGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IG1hcmtDb250YWluZXJSZWYsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSkgOiBjaGlsZHJlbik7XG59O1xuXG5QYXlQYWxNYXJrcy5kaXNwbGF5TmFtZSA9IFwiUGF5UGFsTWFya3NcIjtcbi8qKlxuVGhpcyBgPFBheVBhbE1lc3NhZ2VzIC8+YCBtZXNzYWdlcyBjb21wb25lbnQgcmVuZGVycyBhIGNyZWRpdCBtZXNzYWdpbmcgb24gdXBzdHJlYW0gbWVyY2hhbnQgc2l0ZXMuXG5JdCByZWxpZXMgb24gdGhlIGA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgLz5gIHBhcmVudCBjb21wb25lbnQgZm9yIG1hbmFnaW5nIHN0YXRlIHJlbGF0ZWQgdG8gbG9hZGluZyB0aGUgSlMgU0RLIHNjcmlwdC5cbiovXG5cbnZhciBQYXlQYWxNZXNzYWdlcyA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgX2IgPSBfYS5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfYiA9PT0gdm9pZCAwID8gXCJcIiA6IF9iLFxuICAgICAgX2MgPSBfYS5mb3JjZVJlUmVuZGVyLFxuICAgICAgZm9yY2VSZVJlbmRlciA9IF9jID09PSB2b2lkIDAgPyBbXSA6IF9jLFxuICAgICAgbWVzc2FnZVByb3BzID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJmb3JjZVJlUmVuZGVyXCJdKTtcblxuICB2YXIgX2QgPSB1c2VQYXlQYWxTY3JpcHRSZWR1Y2VyKClbMF0sXG4gICAgICBpc1Jlc29sdmVkID0gX2QuaXNSZXNvbHZlZCxcbiAgICAgIG9wdGlvbnMgPSBfZC5vcHRpb25zO1xuICB2YXIgbWVzc2FnZXNDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBtZXNzYWdlcyA9IHVzZVJlZihudWxsKTtcblxuICB2YXIgX2UgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIHNldEVycm9yU3RhdGUgPSBfZVsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIHZlcmlmeSB0aGUgc2RrIHNjcmlwdCBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxuICAgIGlmIChpc1Jlc29sdmVkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwYXlwYWxXaW5kb3dOYW1lc3BhY2UgPSBnZXRQYXlQYWxXaW5kb3dOYW1lc3BhY2UkMShvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV0pOyAvLyB2ZXJpZnkgZGVwZW5kZW5jeSBvbiB3aW5kb3cgb2JqZWN0XG5cbiAgICBpZiAocGF5cGFsV2luZG93TmFtZXNwYWNlID09PSB1bmRlZmluZWQgfHwgcGF5cGFsV2luZG93TmFtZXNwYWNlLk1lc3NhZ2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzZXRFcnJvclN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdlbmVyYXRlRXJyb3JNZXNzYWdlKHtcbiAgICAgICAgICByZWFjdENvbXBvbmVudE5hbWU6IFBheVBhbE1lc3NhZ2VzLmRpc3BsYXlOYW1lLFxuICAgICAgICAgIHNka0NvbXBvbmVudEtleTogXCJtZXNzYWdlc1wiLFxuICAgICAgICAgIHNka1JlcXVlc3RlZENvbXBvbmVudHM6IG9wdGlvbnMuY29tcG9uZW50cyxcbiAgICAgICAgICBzZGtEYXRhTmFtZXNwYWNlOiBvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVzc2FnZXMuY3VycmVudCA9IHBheXBhbFdpbmRvd05hbWVzcGFjZS5NZXNzYWdlcyhfX2Fzc2lnbih7fSwgbWVzc2FnZVByb3BzKSk7XG4gICAgbWVzc2FnZXMuY3VycmVudC5yZW5kZXIobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gY29tcG9uZW50IGZhaWxlZCB0byByZW5kZXIsIHBvc3NpYmx5IGJlY2F1c2UgaXQgd2FzIGNsb3NlZCBvciBkZXN0cm95ZWQuXG4gICAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCA9PT0gbnVsbCB8fCBtZXNzYWdlc0NvbnRhaW5lclJlZi5jdXJyZW50LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBwYXlwYWwgbWVzc2FnZXMgY29udGFpbmVyIGlzIG5vIGxvbmdlciBpbiB0aGUgRE9NLCB3ZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgZXJyb3JcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBwYXlwYWwgbWVzc2FnZXMgY29udGFpbmVyIGlzIHN0aWxsIGluIHRoZSBET01cblxuXG4gICAgICBzZXRFcnJvclN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlbmRlciA8UGF5UGFsTWVzc2FnZXMgLz4gY29tcG9uZW50LiBcIi5jb25jYXQoZXJyKSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBfX3NwcmVhZEFycmF5KFtpc1Jlc29sdmVkXSwgZm9yY2VSZVJlbmRlciwgdHJ1ZSkpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiBtZXNzYWdlc0NvbnRhaW5lclJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9KTtcbn07XG5cblBheVBhbE1lc3NhZ2VzLmRpc3BsYXlOYW1lID0gXCJQYXlQYWxNZXNzYWdlc1wiO1xuLyoqXG5UaGlzIGA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgLz5gIGNvbXBvbmVudCB0YWtlcyBjYXJlIG9mIGxvYWRpbmcgdGhlIEpTIFNESyBgPHNjcmlwdD5gLlxuSXQgbWFuYWdlcyBzdGF0ZSBmb3Igc2NyaXB0IGxvYWRpbmcgc28gY2hpbGRyZW4gY29tcG9uZW50cyBsaWtlIGA8UGF5UGFsQnV0dG9ucyAvPmAga25vdyB3aGVuIGl0J3Mgc2FmZSB0byB1c2UgdGhlIGB3aW5kb3cucGF5cGFsYCBnbG9iYWwgbmFtZXNwYWNlLlxuXG5Ob3RlOiBZb3UgYWx3YXlzIHNob3VsZCB1c2UgdGhpcyBjb21wb25lbnQgYXMgYSB3cmFwcGVyIGZvciAgYFBheVBhbEJ1dHRvbnNgLCBgUGF5UGFsTWFya3NgLCBgUGF5UGFsTWVzc2FnZXNgIGFuZCBgQnJhaW50cmVlUGF5UGFsQnV0dG9uc2AgY29tcG9uZW50cy5cbiAqL1xuXG52YXIgUGF5UGFsU2NyaXB0UHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIF9iLCBfYztcblxuICB2YXIgX2QgPSBfYS5vcHRpb25zLFxuICAgICAgb3B0aW9ucyA9IF9kID09PSB2b2lkIDAgPyB7XG4gICAgY2xpZW50SWQ6IFwidGVzdFwiXG4gIH0gOiBfZCxcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBfZSA9IF9hLmRlZmVyTG9hZGluZyxcbiAgICAgIGRlZmVyTG9hZGluZyA9IF9lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9lO1xuXG4gIHZhciBfZiA9IHVzZVJlZHVjZXIoc2NyaXB0UmVkdWNlciwge1xuICAgIG9wdGlvbnM6IF9fYXNzaWduKF9fYXNzaWduKChfYiA9IHt9LCBfYltTREtfU0VUVElOR1MuREFUQV9TREtfSU5URUdSQVRJT05fU09VUkNFXSA9IFNES19TRVRUSU5HUy5EQVRBX1NES19JTlRFR1JBVElPTl9TT1VSQ0VfVkFMVUUsIF9iKSwgb3B0aW9ucyksIChfYyA9IHt9LCBfY1tTQ1JJUFRfSURdID0gXCJcIi5jb25jYXQoZ2V0U2NyaXB0SUQob3B0aW9ucykpLCBfYykpLFxuICAgIGxvYWRpbmdTdGF0dXM6IGRlZmVyTG9hZGluZyA/IFNDUklQVF9MT0FESU5HX1NUQVRFLklOSVRJQUwgOiBTQ1JJUFRfTE9BRElOR19TVEFURS5QRU5ESU5HXG4gIH0pLFxuICAgICAgc3RhdGUgPSBfZlswXSxcbiAgICAgIGRpc3BhdGNoID0gX2ZbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZGVmZXJMb2FkaW5nID09PSBmYWxzZSAmJiBzdGF0ZS5sb2FkaW5nU3RhdHVzID09PSBTQ1JJUFRfTE9BRElOR19TVEFURS5JTklUSUFMKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBESVNQQVRDSF9BQ1RJT04uTE9BRElOR19TVEFUVVMsXG4gICAgICAgIHZhbHVlOiBTQ1JJUFRfTE9BRElOR19TVEFURS5QRU5ESU5HXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubG9hZGluZ1N0YXR1cyAhPT0gU0NSSVBUX0xPQURJTkdfU1RBVEUuUEVORElORykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIGxvYWRTY3JpcHQoc3RhdGUub3B0aW9ucykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBESVNQQVRDSF9BQ1RJT04uTE9BRElOR19TVEFUVVMsXG4gICAgICAgICAgdmFsdWU6IFNDUklQVF9MT0FESU5HX1NUQVRFLlJFU09MVkVEXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJcIi5jb25jYXQoTE9BRF9TQ1JJUFRfRVJST1IsIFwiIFwiKS5jb25jYXQoZXJyKSk7XG5cbiAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IERJU1BBVENIX0FDVElPTi5MT0FESU5HX1NUQVRVUyxcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgc3RhdGU6IFNDUklQVF9MT0FESU5HX1NUQVRFLlJFSkVDVEVELFxuICAgICAgICAgICAgbWVzc2FnZTogU3RyaW5nKGVycilcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbc3RhdGUub3B0aW9ucywgZGVmZXJMb2FkaW5nLCBzdGF0ZS5sb2FkaW5nU3RhdHVzXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNjcmlwdENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwge1xuICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoXG4gICAgfSlcbiAgfSwgY2hpbGRyZW4pO1xufTtcbi8qKlxuICogQ3VzdG9tIGhvb2sgdG8gc3RvcmUgcmVnaXN0ZXJlZCBob3N0ZWQgZmllbGRzIGNoaWxkcmVuXG4gKiBFYWNoIGBQYXlQYWxIb3N0ZWRGaWVsZGAgY29tcG9uZW50IHNob3VsZCBiZSByZWdpc3RlcmVkIG9uIHRoZSBwYXJlbnQgcHJvdmlkZXJcbiAqXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIHRoZSBpbml0aWFsbHkgcmVnaXN0ZXJlZCBjb21wb25lbnRzXG4gKiBAcmV0dXJucyBhdCBmaXJzdCwgYW4ge0BsaW5rIE9iamVjdH0gY29udGFpbmluZyB0aGUgcmVnaXN0ZXJlZCBob3N0ZWQgZmllbGRzLFxuICogYW5kIGF0IHRoZSBzZWNvbmQgYSBmdW5jdGlvbiBoYW5kbGVyIHRvIHJlZ2lzdGVyIHRoZSBob3N0ZWQgZmllbGRzIGNvbXBvbmVudHNcbiAqL1xuXG5cbnZhciB1c2VIb3N0ZWRGaWVsZHNSZWdpc3RlciA9IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgaWYgKGluaXRpYWxWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5pdGlhbFZhbHVlID0ge307XG4gIH1cblxuICB2YXIgcmVnaXN0ZXJlZEZpZWxkcyA9IHVzZVJlZihpbml0aWFsVmFsdWUpO1xuXG4gIHZhciByZWdpc3Rlckhvc3RlZEZpZWxkID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgIHJlZ2lzdGVyZWRGaWVsZHMuY3VycmVudCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZWdpc3RlcmVkRmllbGRzLmN1cnJlbnQpLCBjb21wb25lbnQpO1xuICB9O1xuXG4gIHJldHVybiBbcmVnaXN0ZXJlZEZpZWxkcywgcmVnaXN0ZXJIb3N0ZWRGaWVsZF07XG59O1xuLyoqXG4gKiBUaHJvdyBhbiBleGNlcHRpb24gaWYgdGhlIEhvc3RlZEZpZWxkcyBpcyBub3QgZm91bmQgaW4gdGhlIHBheXBhbCBuYW1lc3BhY2VcbiAqIFByb2JhYmx5IGNhdXNlIGZvciB0aGlzIHByb2JsZW0gaXMgbm90IHNlbmRpbmcgdGhlIGhvc3RlZC1maWVsZHMgc3RyaW5nXG4gKiBhcyBwYXJ0IG9mIHRoZSBjb21wb25lbnRzIHByb3BzIGluIG9wdGlvbnNcbiAqIHtAY29kZSA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgb3B0aW9ucz17eyBjb21wb25lbnRzOiAnaG9zdGVkLWZpZWxkcyd9fT59XG4gKlxuICogQHBhcmFtIHBhcmFtMCBhbmQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbXBvbmVudHMgYW5kIG5hbWVzcGFjZSBkZWZpbmVkIGluIG9wdGlvbnNcbiAqIEB0aHJvd3Mge0Bjb2RlIEVycm9yfVxuICpcbiAqL1xuXG5cbnZhciBnZW5lcmF0ZU1pc3NpbmdIb3N0ZWRGaWVsZHNFcnJvciA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgX2IgPSBfYS5jb21wb25lbnRzLFxuICAgICAgY29tcG9uZW50cyA9IF9iID09PSB2b2lkIDAgPyBcIlwiIDogX2IsXG4gICAgICBfYyA9IFNES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRSxcbiAgICAgIF9kID0gX2FbX2NdLFxuICAgICAgZGF0YU5hbWVzcGFjZSA9IF9kID09PSB2b2lkIDAgPyBERUZBVUxUX1BBWVBBTF9OQU1FU1BBQ0UgOiBfZDtcbiAgdmFyIGV4cGVjdGVkQ29tcG9uZW50cyA9IGNvbXBvbmVudHMgPyBcIlwiLmNvbmNhdChjb21wb25lbnRzLCBcIixob3N0ZWQtZmllbGRzXCIpIDogXCJob3N0ZWQtZmllbGRzXCI7XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byByZW5kZXIgPFBheVBhbEhvc3RlZEZpZWxkc1Byb3ZpZGVyIC8+IGJlY2F1c2Ugd2luZG93LlwiLmNvbmNhdChkYXRhTmFtZXNwYWNlLCBcIi5Ib3N0ZWRGaWVsZHMgaXMgdW5kZWZpbmVkLlwiKTtcblxuICBpZiAoIWNvbXBvbmVudHMuaW5jbHVkZXMoXCJob3N0ZWQtZmllbGRzXCIpKSB7XG4gICAgZXJyb3JNZXNzYWdlICs9IFwiXFxuVG8gZml4IHRoZSBpc3N1ZSwgYWRkICdob3N0ZWQtZmllbGRzJyB0byB0aGUgbGlzdCBvZiBjb21wb25lbnRzIHBhc3NlZCB0byB0aGUgcGFyZW50IFBheVBhbFNjcmlwdFByb3ZpZGVyOiA8UGF5UGFsU2NyaXB0UHJvdmlkZXIgb3B0aW9ucz17eyBjb21wb25lbnRzOiAnXCIuY29uY2F0KGV4cGVjdGVkQ29tcG9uZW50cywgXCInfX0+XCIpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbn07XG4vKipcbiAqIFZhbGlkYXRlIHRoZSBleHBpcmF0aW9uIGRhdGUgY29tcG9uZW50LiBWYWxpZCBjb21iaW5hdGlvbnMgYXJlOlxuICogMS0gT25seSB0aGUgYGV4cGlyYXRpb25EYXRlYCBmaWVsZCBleGlzdHMuXG4gKiAyLSBPbmx5IHRoZSBgZXhwaXJhdGlvbk1vbnRoYCBhbmQgYGV4cGlyYXRpb25ZZWFyYCBmaWVsZHMgZXhpc3QuIENhbm5vdCBiZSB1c2VkIHdpdGggdGhlIGBleHBpcmF0aW9uRGF0ZWAgZmllbGQuXG4gKlxuICogQHBhcmFtIHJlZ2lzdGVyVHlwZXNcbiAqIEByZXR1cm5zIEB0eXBlIHt0cnVlfSB3aGVuIHRoZSBjaGlsZHJlbiBhcmUgdmFsaWRcbiAqL1xuXG5cbnZhciB2YWxpZGF0ZUV4cGlyYXRpb25EYXRlID0gZnVuY3Rpb24gKHJlZ2lzdGVyVHlwZXMpIHtcbiAgcmV0dXJuICFyZWdpc3RlclR5cGVzLmluY2x1ZGVzKFBBWVBBTF9IT1NURURfRklFTERTX1RZUEVTLkVYUElSQVRJT05fREFURSkgJiYgIXJlZ2lzdGVyVHlwZXMuaW5jbHVkZXMoUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVMuRVhQSVJBVElPTl9NT05USCkgJiYgIXJlZ2lzdGVyVHlwZXMuaW5jbHVkZXMoUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVMuRVhQSVJBVElPTl9ZRUFSKTtcbn07XG4vKipcbiAqIENoZWNrIGlmIHdlIGZpbmQgdGhlIFtudW1iZXIsIGV4cGlyYXRpb24sIGN2dl0gaW4gY2hpbGRyZW5cbiAqXG4gKiBAcGFyYW0gcmVxdWlyZWRDaGlsZHJlbiB0aGUgbGlzdCB3aXRoIHJlcXVpcmVkIGNoaWxkcmVuIFtudW1iZXIsIGV4cGlyYXRpb24sIGN2dl1cbiAqIEBwYXJhbSByZWdpc3RlclR5cGVzICAgIHRoZSBsaXN0IG9mIGFsbCB0aGUgY2hpbGRyZW4gdHlwZXMgcGFzcyB0byB0aGUgcGFyZW50XG4gKiBAdGhyb3cgYW4gQHR5cGUge0Vycm9yfSB3aGVuIG5vdCBmaW5kIHRoZSBkZWZhdWx0IGNoaWxkcmVuXG4gKi9cblxuXG52YXIgaGFzRGVmYXVsdENoaWxkcmVuID0gZnVuY3Rpb24gKHJlZ2lzdGVyVHlwZXMpIHtcbiAgaWYgKCFyZWdpc3RlclR5cGVzLmluY2x1ZGVzKFBBWVBBTF9IT1NURURfRklFTERTX1RZUEVTLk5VTUJFUikgfHwgIXJlZ2lzdGVyVHlwZXMuaW5jbHVkZXMoUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVMuQ1ZWKSB8fCB2YWxpZGF0ZUV4cGlyYXRpb25EYXRlKHJlZ2lzdGVyVHlwZXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKEhPU1RFRF9GSUVMRFNfQ0hJTERSRU5fRVJST1IpO1xuICB9XG59O1xuLyoqXG4gKiBDaGVjayBpZiB3ZSBkb24ndCBoYXZlIGR1cGxpY2F0ZSBjaGlsZHJlbiB0eXBlc1xuICpcbiAqIEBwYXJhbSByZWdpc3RlclR5cGVzIHRoZSBsaXN0IG9mIGFsbCB0aGUgY2hpbGRyZW4gdHlwZXMgcGFzcyB0byB0aGUgcGFyZW50XG4gKiBAdGhyb3cgYW4gQHR5cGUge0Vycm9yfSB3aGVuIGR1cGxpY2F0ZSB0eXBlcyB3YXMgZm91bmRcbiAqL1xuXG5cbnZhciBub0R1cGxpY2F0ZUNoaWxkcmVuID0gZnVuY3Rpb24gKHJlZ2lzdGVyVHlwZXMpIHtcbiAgaWYgKHJlZ2lzdGVyVHlwZXMubGVuZ3RoICE9PSBuZXcgU2V0KHJlZ2lzdGVyVHlwZXMpLnNpemUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoSE9TVEVEX0ZJRUxEU19EVVBMSUNBVEVfQ0hJTERSRU5fRVJST1IpO1xuICB9XG59O1xuLyoqXG4gKiBWYWxpZGF0ZSB0aGUgaG9zdGVkIGZpZWxkIGNoaWxkcmVuIGluIHRoZSBQYXlQYWxIb3N0ZWRGaWVsZHNQcm92aWRlciBjb21wb25lbnQuXG4gKiBUaGVzZSBhcmUgdGhlIHJ1bGVzOlxuICogMS0gV2UgbmVlZCB0byBmaW5kIDMgZGVmYXVsdCBjaGlsZHJlbiBmb3IgbnVtYmVyLCBleHBpcmF0aW9uLCBjdnZcbiAqIDItIE5vIGR1cGxpY2F0ZSBjaGlsZHJlbiBhcmUgYWxsb3dlZFxuICogMy0gTm8gaW52YWxpZCBjb21iaW5hdGlvbnMgb2YgYGV4cGlyYXRpb25EYXRlYCwgYGV4cGlyYXRpb25Nb250aGAsIGFuZCBgZXhwaXJhdGlvblllYXJgXG4gKlxuICogQHBhcmFtIGNoaWxkcmVuTGlzdCAgICAgdGhlIGxpc3Qgb2YgY2hpbGRyZW5cbiAqIEBwYXJhbSByZXF1aXJlZENoaWxkcmVuIHRoZSBsaXN0IHdpdGggcmVxdWlyZWQgY2hpbGRyZW4gW251bWJlciwgZXhwaXJhdGlvbiwgY3Z2XVxuICovXG5cblxudmFyIHZhbGlkYXRlSG9zdGVkRmllbGRDaGlsZHJlbiA9IGZ1bmN0aW9uIChyZWdpc3RlcmVkRmllbGRzKSB7XG4gIGhhc0RlZmF1bHRDaGlsZHJlbihyZWdpc3RlcmVkRmllbGRzKTtcbiAgbm9EdXBsaWNhdGVDaGlsZHJlbihyZWdpc3RlcmVkRmllbGRzKTtcbn07XG4vKipcblRoaXMgYDxQYXlQYWxIb3N0ZWRGaWVsZHNQcm92aWRlciAvPmAgcHJvdmlkZXIgY29tcG9uZW50IHdyYXBzIHRoZSBmb3JtIGZpZWxkIGVsZW1lbnRzIGFuZCBhY2NlcHRzIHByb3BzIGxpa2UgYGNyZWF0ZU9yZGVyKClgLlxuXG5UaGlzIHByb3ZpZGVyIGNvbXBvbmVudCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGggdGhlIGA8UGF5UGFsSG9zdGVkRmllbGQgLz5gIGNvbXBvbmVudC5cblxuV2FybmluZzogSWYgeW91IGRvbid0IHNlZSBhbnl0aGluZyBpbiB0aGUgc2NyZWVuIHByb2JhYmx5IHlvdXIgY2xpZW50IGlzIGluZWxpZ2libGUuXG5UbyBoYW5kbGUgdGhpcyBwcm9ibGVtIG1ha2Ugc3VyZSB0byB1c2UgdGhlIHByb3AgYG5vdEVsaWdpYmxlRXJyb3JgIGFuZCBwYXNzIGEgY29tcG9uZW50IHdpdGggYSBjdXN0b20gbWVzc2FnZS5cblRha2UgYSBsb29rIHRvIHRoaXMgbGluayBpZiB0aGF0IGlzIHRoZSBjYXNlOiBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvY2hlY2tvdXQvYWR2YW5jZWQvaW50ZWdyYXRlL1xuKi9cblxuXG52YXIgUGF5UGFsSG9zdGVkRmllbGRzUHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgdmFyIHN0eWxlcyA9IF9hLnN0eWxlcyxcbiAgICAgIGNyZWF0ZU9yZGVyID0gX2EuY3JlYXRlT3JkZXIsXG4gICAgICBub3RFbGlnaWJsZUVycm9yID0gX2Eubm90RWxpZ2libGVFcnJvcixcbiAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICBpbnN0YWxsbWVudHMgPSBfYS5pbnN0YWxsbWVudHM7XG4gIHZhciBfYiA9IHVzZVNjcmlwdFByb3ZpZGVyQ29udGV4dCgpWzBdLFxuICAgICAgb3B0aW9ucyA9IF9iLm9wdGlvbnMsXG4gICAgICBsb2FkaW5nU3RhdHVzID0gX2IubG9hZGluZ1N0YXR1cztcblxuICB2YXIgX2MgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIGlzRWxpZ2libGUgPSBfY1swXSxcbiAgICAgIHNldElzRWxpZ2libGUgPSBfY1sxXTtcblxuICB2YXIgX2QgPSB1c2VTdGF0ZSgpLFxuICAgICAgY2FyZEZpZWxkcyA9IF9kWzBdLFxuICAgICAgc2V0Q2FyZEZpZWxkcyA9IF9kWzFdO1xuXG4gIHZhciBfZSA9IHVzZVN0YXRlKG51bGwpLFxuICAgICAgc2V0RXJyb3JTdGF0ZSA9IF9lWzFdO1xuXG4gIHZhciBob3N0ZWRGaWVsZHNDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBob3N0ZWRGaWVsZHMgPSB1c2VSZWYoKTtcblxuICB2YXIgX2YgPSB1c2VIb3N0ZWRGaWVsZHNSZWdpc3RlcigpLFxuICAgICAgcmVnaXN0ZXJlZEZpZWxkcyA9IF9mWzBdLFxuICAgICAgcmVnaXN0ZXJIb3N0ZWRGaWVsZCA9IF9mWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgdmFsaWRhdGVIb3N0ZWRGaWVsZENoaWxkcmVuKE9iamVjdC5rZXlzKHJlZ2lzdGVyZWRGaWVsZHMuY3VycmVudCkpOyAvLyBPbmx5IHJlbmRlciB0aGUgaG9zdGVkIGZpZWxkcyB3aGVuIHNjcmlwdCBpcyBsb2FkZWQgYW5kIGhvc3RlZEZpZWxkcyBpcyBlbGlnaWJsZVxuXG4gICAgaWYgKCEobG9hZGluZ1N0YXR1cyA9PT0gU0NSSVBUX0xPQURJTkdfU1RBVEUuUkVTT0xWRUQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBHZXQgdGhlIGhvc3RlZCBmaWVsZHMgZnJvbSB0aGUgW3dpbmRvdy5wYXlwYWwuSG9zdGVkRmllbGRzXSBTREtcblxuXG4gICAgaG9zdGVkRmllbGRzLmN1cnJlbnQgPSBnZXRQYXlQYWxXaW5kb3dOYW1lc3BhY2UkMShvcHRpb25zW1NES19TRVRUSU5HUy5EQVRBX05BTUVTUEFDRV0pLkhvc3RlZEZpZWxkcztcblxuICAgIGlmICghaG9zdGVkRmllbGRzLmN1cnJlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihnZW5lcmF0ZU1pc3NpbmdIb3N0ZWRGaWVsZHNFcnJvcigoX2EgPSB7XG4gICAgICAgIGNvbXBvbmVudHM6IG9wdGlvbnMuY29tcG9uZW50c1xuICAgICAgfSwgX2FbU0RLX1NFVFRJTkdTLkRBVEFfTkFNRVNQQUNFXSA9IG9wdGlvbnNbU0RLX1NFVFRJTkdTLkRBVEFfTkFNRVNQQUNFXSwgX2EpKSk7XG4gICAgfVxuXG4gICAgaWYgKCFob3N0ZWRGaWVsZHMuY3VycmVudC5pc0VsaWdpYmxlKCkpIHtcbiAgICAgIHJldHVybiBzZXRJc0VsaWdpYmxlKGZhbHNlKTtcbiAgICB9IC8vIENsZWFuIGFsbCB0aGUgZmllbGRzIGJlZm9yZSB0aGUgcmVyZW5kZXJcblxuXG4gICAgaWYgKGNhcmRGaWVsZHMpIHtcbiAgICAgIGNhcmRGaWVsZHMudGVhcmRvd24oKTtcbiAgICB9XG5cbiAgICBob3N0ZWRGaWVsZHMuY3VycmVudC5yZW5kZXIoe1xuICAgICAgLy8gQ2FsbCB5b3VyIHNlcnZlciB0byBzZXQgdXAgdGhlIHRyYW5zYWN0aW9uXG4gICAgICBjcmVhdGVPcmRlcjogY3JlYXRlT3JkZXIsXG4gICAgICBmaWVsZHM6IHJlZ2lzdGVyZWRGaWVsZHMuY3VycmVudCxcbiAgICAgIGluc3RhbGxtZW50czogaW5zdGFsbG1lbnRzLFxuICAgICAgc3R5bGVzOiBzdHlsZXNcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjYXJkRmllbGRzSW5zdGFuY2UpIHtcbiAgICAgIGlmIChob3N0ZWRGaWVsZHNDb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICBzZXRDYXJkRmllbGRzKGNhcmRGaWVsZHNJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgc2V0RXJyb3JTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byByZW5kZXIgPFBheVBhbEhvc3RlZEZpZWxkc1Byb3ZpZGVyIC8+IGNvbXBvbmVudC4gXCIuY29uY2F0KGVycikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtsb2FkaW5nU3RhdHVzLCBzdHlsZXNdKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiBob3N0ZWRGaWVsZHNDb250YWluZXJSZWZcbiAgfSwgaXNFbGlnaWJsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGF5UGFsSG9zdGVkRmllbGRzQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBjYXJkRmllbGRzOiBjYXJkRmllbGRzLFxuICAgICAgcmVnaXN0ZXJIb3N0ZWRGaWVsZDogcmVnaXN0ZXJIb3N0ZWRGaWVsZFxuICAgIH1cbiAgfSwgY2hpbGRyZW4pIDogbm90RWxpZ2libGVFcnJvcik7XG59O1xuLyoqXG5UaGlzIGA8UGF5UGFsSG9zdGVkRmllbGQgLz5gIGNvbXBvbmVudCByZW5kZXJzIGluZGl2aWR1YWwgZmllbGRzIGZvciBbSG9zdGVkIEZpZWxkc10oaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9kb2NzL2J1c2luZXNzL2NoZWNrb3V0L2FkdmFuY2VkLWNhcmQtcGF5bWVudHMvaW50ZWdyYXRlIzMtYWRkLWphdmFzY3JpcHQtc2RrLWFuZC1jYXJkLWZvcm0pIGludGVncmF0aW9ucy5cbkl0IHJlbGllcyBvbiB0aGUgYDxQYXlQYWxIb3N0ZWRGaWVsZHNQcm92aWRlciAvPmAgcGFyZW50IGNvbXBvbmVudCBmb3IgbWFuYWdpbmcgc3RhdGUgcmVsYXRlZCB0byBsb2FkaW5nIHRoZSBKUyBTREsgc2NyaXB0XG5hbmQgZXhlY3V0ZSBzb21lIHZhbGlkYXRpb25zIGJlZm9yZSB0aGUgcmVuZGVyaW5nIHRoZSBmaWVsZHMuXG5cblRvIHVzZSB0aGUgUGF5UGFsIGhvc3RlZCBmaWVsZHMgeW91IG5lZWQgdG8gZGVmaW5lIGF0IGxlYXN0IHRocmVlIGZpZWxkczpcblxuLSBBIGNhcmQgbnVtYmVyIGZpZWxkXG4tIFRoZSBDVlYgY29kZSBmcm9tIHRoZSBjbGllbnQgY2FyZFxuLSBUaGUgZXhwaXJhdGlvbiBkYXRlXG5cbllvdSBjYW4gZGVmaW5lIHRoZSBleHBpcmF0aW9uIGRhdGUgYXMgYSBzaW5nbGUgZmllbGQgc2ltaWxhciB0byB0aGUgZXhhbXBsZSBiZWxvdyxcbm9yIHlvdSBhcmUgYWJsZSB0byBkZWZpbmUgaXQgaW4gW3R3byBzZXBhcmF0ZSBmaWVsZHNdKGh0dHBzOi8vcGF5cGFsLmdpdGh1Yi5pby9yZWFjdC1wYXlwYWwtanMvLz9wYXRoPS9kb2NzL3BheXBhbC1wYXlwYWxob3N0ZWRmaWVsZHMtLWV4cGlyYXRpb24tZGF0ZSkuIE9uZSBmb3IgdGhlIG1vbnRoIGFuZCBzZWNvbmQgZm9yIHllYXIuXG5cbk5vdGU6IFRha2UgY2FyZSB3aGVuIHVzaW5nIG11bHRpcGxlIGluc3RhbmNlcyBvZiB0aGUgUGF5UGFsIEhvc3RlZCBGaWVsZHMgb24gdGhlIHNhbWUgcGFnZS5cblRoZSBjb21wb25lbnQgd2lsbCBmYWlsIHRvIHJlbmRlciB3aGVuIGFueSBvZiB0aGUgc2VsZWN0b3JzIHJldHVybiBtb3JlIHRoYW4gb25lIGVsZW1lbnQuXG4qL1xuXG5cbnZhciBQYXlQYWxIb3N0ZWRGaWVsZCA9IGZ1bmN0aW9uIChfYSkge1xuICB2YXIgaG9zdGVkRmllbGRUeXBlID0gX2EuaG9zdGVkRmllbGRUeXBlLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgb3B0aW9ucyA9IF9hLm9wdGlvbnMsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBwcm9wcyA9IF9fcmVzdChfYSwgW1wiaG9zdGVkRmllbGRUeXBlXCIsIFwib3B0aW9uc1wiXSk7XG5cbiAgdmFyIGhvc3RlZEZpZWxkQ29udGV4dCA9IHVzZUNvbnRleHQoUGF5UGFsSG9zdGVkRmllbGRzQ29udGV4dCk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKCEoaG9zdGVkRmllbGRDb250ZXh0ID09PSBudWxsIHx8IGhvc3RlZEZpZWxkQ29udGV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG9zdGVkRmllbGRDb250ZXh0LnJlZ2lzdGVySG9zdGVkRmllbGQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgSG9zdGVkRmllbGQgY2Fubm90IGJlIHJlZ2lzdGVyIGluIHRoZSBQYXlQYWxIb3N0ZWRGaWVsZHNQcm92aWRlciBwYXJlbnQgY29tcG9uZW50XCIpO1xuICAgIH0gLy8gUmVnaXN0ZXIgaW4gdGhlIHBhcmVudCBwcm92aWRlclxuXG5cbiAgICBob3N0ZWRGaWVsZENvbnRleHQucmVnaXN0ZXJIb3N0ZWRGaWVsZCgoX2EgPSB7fSwgX2FbaG9zdGVkRmllbGRUeXBlXSA9IHtcbiAgICAgIHNlbGVjdG9yOiBvcHRpb25zLnNlbGVjdG9yLFxuICAgICAgcGxhY2Vob2xkZXI6IG9wdGlvbnMucGxhY2Vob2xkZXIsXG4gICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICBmb3JtYXRJbnB1dDogb3B0aW9ucy5mb3JtYXRJbnB1dCxcbiAgICAgIG1hc2tJbnB1dDogb3B0aW9ucy5tYXNrSW5wdXQsXG4gICAgICBzZWxlY3Q6IG9wdGlvbnMuc2VsZWN0LFxuICAgICAgbWF4bGVuZ3RoOiBvcHRpb25zLm1heGxlbmd0aCxcbiAgICAgIG1pbmxlbmd0aDogb3B0aW9ucy5taW5sZW5ndGgsXG4gICAgICBwcmVmaWxsOiBvcHRpb25zLnByZWZpbGwsXG4gICAgICByZWplY3RVbnN1cHBvcnRlZENhcmRzOiBvcHRpb25zLnJlamVjdFVuc3VwcG9ydGVkQ2FyZHNcbiAgICB9LCBfYSkpO1xuICB9LCBbXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzKSk7XG59O1xuXG52YXIgRlVORElORyQxID0ge1xuICBQQVlQQUw6ICdwYXlwYWwnLFxuICBWRU5NTzogJ3Zlbm1vJyxcbiAgQVBQTEVQQVk6ICdhcHBsZXBheScsXG4gIElUQVU6ICdpdGF1JyxcbiAgQ1JFRElUOiAnY3JlZGl0JyxcbiAgUEFZTEFURVI6ICdwYXlsYXRlcicsXG4gIENBUkQ6ICdjYXJkJyxcbiAgSURFQUw6ICdpZGVhbCcsXG4gIFNFUEE6ICdzZXBhJyxcbiAgQkFOQ09OVEFDVDogJ2JhbmNvbnRhY3QnLFxuICBHSVJPUEFZOiAnZ2lyb3BheScsXG4gIFNPRk9SVDogJ3NvZm9ydCcsXG4gIEVQUzogJ2VwcycsXG4gIE1ZQkFOSzogJ215YmFuaycsXG4gIFAyNDogJ3AyNCcsXG4gIFZFUktLT1BBTktLSTogJ3Zlcmtrb3BhbmtraScsXG4gIFBBWVU6ICdwYXl1JyxcbiAgQkxJSzogJ2JsaWsnLFxuICBUUlVTVExZOiAndHJ1c3RseScsXG4gIFpJTVBMRVI6ICd6aW1wbGVyJyxcbiAgTUFYSU1BOiAnbWF4aW1hJyxcbiAgT1hYTzogJ294eG8nLFxuICBCT0xFVE86ICdib2xldG8nLFxuICBCT0xFVE9CQU5DQVJJTzogJ2JvbGV0b2JhbmNhcmlvJyxcbiAgV0VDSEFUUEFZOiAnd2VjaGF0cGF5JyxcbiAgTUVSQ0FET1BBR086ICdtZXJjYWRvcGFnbycsXG4gIE1VTFRJQkFOQ086ICdtdWx0aWJhbmNvJ1xufTsgLy8gV2UgZG8gbm90IHJlLWV4cG9ydCBgRlVORElOR2AgZnJvbSB0aGUgYHNkay1jb25zdGFudHNgIG1vZHVsZVxuLy8gZGlyZWN0bHkgYmVjYXVzZSBpdCBoYXMgbm8gdHlwZSBkZWZpbml0aW9ucy5cbi8vXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BheXBhbC9yZWFjdC1wYXlwYWwtanMvaXNzdWVzLzEyNVxuXG52YXIgRlVORElORyA9IEZVTkRJTkckMTtcbmV4cG9ydCB7IEJyYWludHJlZVBheVBhbEJ1dHRvbnMsIERJU1BBVENIX0FDVElPTiwgRlVORElORywgUEFZUEFMX0hPU1RFRF9GSUVMRFNfVFlQRVMsIFBheVBhbEJ1dHRvbnMsIFBheVBhbEhvc3RlZEZpZWxkLCBQYXlQYWxIb3N0ZWRGaWVsZHNQcm92aWRlciwgUGF5UGFsTWFya3MsIFBheVBhbE1lc3NhZ2VzLCBQYXlQYWxTY3JpcHRQcm92aWRlciwgU0NSSVBUX0xPQURJTkdfU1RBVEUsIFNjcmlwdENvbnRleHQsIGRlc3Ryb3lTREtTY3JpcHQsIGdldFNjcmlwdElELCBzY3JpcHRSZWR1Y2VyLCB1c2VQYXlQYWxIb3N0ZWRGaWVsZHMsIHVzZVBheVBhbFNjcmlwdFJlZHVjZXIsIHVzZVNjcmlwdFByb3ZpZGVyQ29udGV4dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@paypal/react-paypal-js/dist/esm/react-paypal-js.js\n"));

/***/ }),

/***/ "./pages/order/[id].jsx":
/*!******************************!*\
  !*** ./pages/order/[id].jsx ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/layout */ \"./components/layout.jsx\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/error */ \"./utils/error.js\");\n/* harmony import */ var _paypal_react_paypal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @paypal/react-paypal-js */ \"./node_modules/@paypal/react-paypal-js/dist/esm/react-paypal-js.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction reducer(state, action) {\n    switch(action.type){\n        case \"FETCH_REQUEST\":\n            return {\n                ...state,\n                loading: true,\n                error: \"\"\n            };\n        case \"FETCH_SUCCESS\":\n            return {\n                ...state,\n                loading: false,\n                order: action.payload,\n                error: \"\"\n            };\n        case \"FETCH_FAIL\":\n            return {\n                ...state,\n                loading: false,\n                error: action.payload\n            };\n        default:\n            state;\n    }\n}\nfunction OrderScreen() {\n    _s();\n    // order/:id\n    const { query } = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const orderId = query.id;\n    const [{ loading, error, order }, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useReducer)(reducer, {\n        loading: true,\n        order: {},\n        error: \"\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        const fetchOrder = async ()=>{\n            try {\n                dispatch({\n                    type: \"FETCH_REQUEST\"\n                });\n                const { data } = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"/api/orders/\".concat(orderId));\n                dispatch({\n                    type: \"FETCH_SUCCESS\",\n                    payload: data\n                });\n            } catch (err) {\n                dispatch({\n                    type: \"FETCH_FAIL\",\n                    payload: (0,_utils_error__WEBPACK_IMPORTED_MODULE_6__.getError)(err)\n                });\n            }\n        };\n        if (!order._id || order._id && order._id !== orderId) {\n            fetchOrder();\n        }\n    }, [\n        order,\n        orderId\n    ]);\n    const { shippingAddress, paymentMethod, orderItems, itemsPrice, taxPrice, shippingPrice, totalPrice, isPaid, paidAt, isDelivered, deliveredAt } = order;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        title: \"Order \".concat(orderId),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"mb-4 text-xl\",\n                children: \"Order \".concat(orderId)\n            }, void 0, false, {\n                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                lineNumber: 63,\n                columnNumber: 13\n            }, this),\n            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                lineNumber: 65,\n                columnNumber: 17\n            }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"alert-error\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                lineNumber: 67,\n                columnNumber: 17\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid md:grid-cols-4 md:gap-5\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto md:col-span-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card  p-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mb-2 text-lg\",\n                                        children: \"Shipping Address\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 72,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            shippingAddress.fullName,\n                                            \", \",\n                                            shippingAddress.address,\n                                            \",\",\n                                            \" \",\n                                            shippingAddress.city,\n                                            \", \",\n                                            shippingAddress.postalCode,\n                                            \",\",\n                                            \" \",\n                                            shippingAddress.country\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 29\n                                    }, this),\n                                    isDelivered ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"alert-success\",\n                                        children: [\n                                            \"Delivered at \",\n                                            deliveredAt\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 79,\n                                        columnNumber: 33\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"alert-error\",\n                                        children: \"Not delivered\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 81,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                lineNumber: 71,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card p-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mb-2 text-lg\",\n                                        children: \"Payment Method\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 86,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: paymentMethod\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 87,\n                                        columnNumber: 29\n                                    }, this),\n                                    isPaid ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"alert-success\",\n                                        children: [\n                                            \"Paid at \",\n                                            paidAt\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 89,\n                                        columnNumber: 33\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"alert-error\",\n                                        children: \"Not paid\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                lineNumber: 85,\n                                columnNumber: 25\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card overflow-x-auto p-5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"mb-2 text-lg\",\n                                        children: \"Order Items\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 96,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                        className: \"min-w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                                className: \"border-b\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-5 text-left\",\n                                                            children: \"Item\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                            lineNumber: 100,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"    p-5 text-right\",\n                                                            children: \"Quantity\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                            lineNumber: 101,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"  p-5 text-right\",\n                                                            children: \"Price\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                            lineNumber: 102,\n                                                            columnNumber: 37\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"p-5 text-right\",\n                                                            children: \"Subtotal\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                            lineNumber: 103,\n                                                            columnNumber: 37\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                    lineNumber: 99,\n                                                    columnNumber: 33\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 98,\n                                                columnNumber: 33\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                children: orderItems.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                        className: \"border-b\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                                    href: \"/product/\".concat(item.slug),\n                                                                    className: \"flex items-center\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_1___default()), {\n                                                                            src: item.image,\n                                                                            alt: item.name,\n                                                                            width: 50,\n                                                                            height: 50\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                            lineNumber: 112,\n                                                                            columnNumber: 49\n                                                                        }, this),\n                                                                        \"\\xa0\",\n                                                                        item.name\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                    lineNumber: 110,\n                                                                    columnNumber: 45\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                lineNumber: 109,\n                                                                columnNumber: 41\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \" p-5 text-right\",\n                                                                children: item.quantity\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                lineNumber: 123,\n                                                                columnNumber: 41\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"p-5 text-right\",\n                                                                children: [\n                                                                    \"$\",\n                                                                    item.price\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                lineNumber: 124,\n                                                                columnNumber: 41\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"p-5 text-right\",\n                                                                children: [\n                                                                    \"$\",\n                                                                    item.quantity * item.price\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                                lineNumber: 125,\n                                                                columnNumber: 41\n                                                            }, this)\n                                                        ]\n                                                    }, item._id, true, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 108,\n                                                        columnNumber: 37\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 106,\n                                                columnNumber: 33\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                        lineNumber: 97,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                lineNumber: 95,\n                                columnNumber: 25\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                        lineNumber: 70,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"card  p-5\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"mb-2 text-lg\",\n                                    children: \"Order Summary\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                    lineNumber: 136,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-2 flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Items\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 140,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            itemsPrice\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 141,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 139,\n                                                columnNumber: 37\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                            lineNumber: 138,\n                                            columnNumber: 33\n                                        }, this),\n                                        \" \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-2 flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Tax\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 147,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            taxPrice\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 148,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 146,\n                                                columnNumber: 37\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                            lineNumber: 145,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-2 flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Shipping\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 153,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            shippingPrice\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 154,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 152,\n                                                columnNumber: 37\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                            lineNumber: 151,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-2 flex justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: \"Total\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 159,\n                                                        columnNumber: 41\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            \"$\",\n                                                            totalPrice\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 160,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                lineNumber: 158,\n                                                columnNumber: 37\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                            lineNumber: 157,\n                                            columnNumber: 33\n                                        }, this),\n                                        !isPaid && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            children: [\n                                                isPending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: \"Loading...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                    lineNumber: 166,\n                                                    columnNumber: 37\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_paypal_react_paypal_js__WEBPACK_IMPORTED_MODULE_7__.PayPalButtons, {\n                                                        createOrder: createOrder,\n                                                        onApprove: onApprove,\n                                                        onError: onError\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                        lineNumber: 169,\n                                                        columnNumber: 41\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                    lineNumber: 168,\n                                                    columnNumber: 37\n                                                }, this),\n                                                loadingPay && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: \"Loading...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                                    lineNumber: 176,\n                                                    columnNumber: 52\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                            lineNumber: 164,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                                    lineNumber: 137,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                            lineNumber: 135,\n                            columnNumber: 25\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                        lineNumber: 134,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n                lineNumber: 69,\n                columnNumber: 17\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/babacarthiam/Desktop/e-commerce-app/pages/order/[id].jsx\",\n        lineNumber: 62,\n        columnNumber: 9\n    }, this);\n}\n_s(OrderScreen, \"BniyHdCuaP+F8oyTiWI9yUIjJrk=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = OrderScreen;\nOrderScreen.auth = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (OrderScreen);\nvar _c;\n$RefreshReg$(_c, \"OrderScreen\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWJwYWNrOi8vX05fRS8uL3BhZ2VzL29yZGVyL1tpZF0uanN4PzJhOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQge3VzZVJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHt1c2VFZmZlY3QsIHVzZVJlZHVjZXJ9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sYXlvdXQnO1xuaW1wb3J0IHtnZXRFcnJvcn0gZnJvbSAnLi4vLi4vdXRpbHMvZXJyb3InO1xuaW1wb3J0IHsgUGF5UGFsQnV0dG9ucyB9IGZyb20gJ0BwYXlwYWwvcmVhY3QtcGF5cGFsLWpzJztcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdGRVRDSF9SRVFVRVNUJzpcbiAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGUsIGxvYWRpbmc6IHRydWUsIGVycm9yOiAnJ307XG4gICAgICAgIGNhc2UgJ0ZFVENIX1NVQ0NFU1MnOlxuICAgICAgICAgICAgcmV0dXJuIHsuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UsIG9yZGVyOiBhY3Rpb24ucGF5bG9hZCwgZXJyb3I6ICcnfTtcbiAgICAgICAgY2FzZSAnRkVUQ0hfRkFJTCc6XG4gICAgICAgICAgICByZXR1cm4gey4uLnN0YXRlLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IGFjdGlvbi5wYXlsb2FkfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gT3JkZXJTY3JlZW4oKSB7XG4gICAgLy8gb3JkZXIvOmlkXG4gICAgY29uc3Qge3F1ZXJ5fSA9IHVzZVJvdXRlcigpO1xuICAgIGNvbnN0IG9yZGVySWQgPSBxdWVyeS5pZDtcblxuICAgIGNvbnN0IFt7bG9hZGluZywgZXJyb3IsIG9yZGVyfSwgZGlzcGF0Y2hdID0gdXNlUmVkdWNlcihyZWR1Y2VyLCB7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIG9yZGVyOiB7fSxcbiAgICAgICAgZXJyb3I6ICcnLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoT3JkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHt0eXBlOiAnRkVUQ0hfUkVRVUVTVCd9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YX0gPSBhd2FpdCBheGlvcy5nZXQoYC9hcGkvb3JkZXJzLyR7b3JkZXJJZH1gKTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7dHlwZTogJ0ZFVENIX1NVQ0NFU1MnLCBwYXlsb2FkOiBkYXRhfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7dHlwZTogJ0ZFVENIX0ZBSUwnLCBwYXlsb2FkOiBnZXRFcnJvcihlcnIpfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghb3JkZXIuX2lkIHx8IChvcmRlci5faWQgJiYgb3JkZXIuX2lkICE9PSBvcmRlcklkKSkge1xuICAgICAgICAgICAgZmV0Y2hPcmRlcigpO1xuICAgICAgICB9XG4gICAgfSwgW29yZGVyLCBvcmRlcklkXSk7XG4gICAgY29uc3Qge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgIG9yZGVySXRlbXMsXG4gICAgICAgIGl0ZW1zUHJpY2UsXG4gICAgICAgIHRheFByaWNlLFxuICAgICAgICBzaGlwcGluZ1ByaWNlLFxuICAgICAgICB0b3RhbFByaWNlLFxuICAgICAgICBpc1BhaWQsXG4gICAgICAgIHBhaWRBdCxcbiAgICAgICAgaXNEZWxpdmVyZWQsXG4gICAgICAgIGRlbGl2ZXJlZEF0LFxuICAgIH0gPSBvcmRlcjtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMYXlvdXQgdGl0bGU9e2BPcmRlciAke29yZGVySWR9YH0+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwibWItNCB0ZXh0LXhsXCI+e2BPcmRlciAke29yZGVySWR9YH08L2gxPlxuICAgICAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgPGRpdj5Mb2FkaW5nLi4uPC9kaXY+XG4gICAgICAgICAgICApIDogZXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydC1lcnJvclwiPntlcnJvcn08L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIG1kOmdyaWQtY29scy00IG1kOmdhcC01XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvIG1kOmNvbC1zcGFuLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCAgcC01XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIm1iLTIgdGV4dC1sZ1wiPlNoaXBwaW5nIEFkZHJlc3M8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaGlwcGluZ0FkZHJlc3MuZnVsbE5hbWV9LCB7c2hpcHBpbmdBZGRyZXNzLmFkZHJlc3N9LHsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaGlwcGluZ0FkZHJlc3MuY2l0eX0sIHtzaGlwcGluZ0FkZHJlc3MucG9zdGFsQ29kZX0seycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NoaXBwaW5nQWRkcmVzcy5jb3VudHJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0RlbGl2ZXJlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydC1zdWNjZXNzXCI+RGVsaXZlcmVkIGF0IHtkZWxpdmVyZWRBdH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0LWVycm9yXCI+Tm90IGRlbGl2ZXJlZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIHAtNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtYi0yIHRleHQtbGdcIj5QYXltZW50IE1ldGhvZDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj57cGF5bWVudE1ldGhvZH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNQYWlkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0LXN1Y2Nlc3NcIj5QYWlkIGF0IHtwYWlkQXR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydC1lcnJvclwiPk5vdCBwYWlkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgb3ZlcmZsb3cteC1hdXRvIHAtNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtYi0yIHRleHQtbGdcIj5PcmRlciBJdGVtczwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cIm1pbi13LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJvcmRlci1iXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC01IHRleHQtbGVmdFwiPkl0ZW08L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cIiAgICBwLTUgdGV4dC1yaWdodFwiPlF1YW50aXR5PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCIgIHAtNSB0ZXh0LXJpZ2h0XCI+UHJpY2U8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtNSB0ZXh0LXJpZ2h0XCI+U3VidG90YWw8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtvcmRlckl0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17aXRlbS5faWR9IGNsYXNzTmFtZT1cImJvcmRlci1iXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBocmVmPXtgL3Byb2R1Y3QvJHtpdGVtLnNsdWd9YH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtpdGVtLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXs1MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezUwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvSW1hZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIiBwLTUgdGV4dC1yaWdodFwiPntpdGVtLnF1YW50aXR5fTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtNSB0ZXh0LXJpZ2h0XCI+JHtpdGVtLnByaWNlfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtNSB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aXRlbS5xdWFudGl0eSAqIGl0ZW0ucHJpY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgIHAtNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtYi0yIHRleHQtbGdcIj5PcmRlciBTdW1tYXJ5PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+SXRlbXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PiR7aXRlbXNQcmljZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7JyAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlRheDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHt0YXhQcmljZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlNoaXBwaW5nPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4ke3NoaXBwaW5nUHJpY2V9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIGZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5Ub3RhbDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHt0b3RhbFByaWNlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshaXNQYWlkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUGVuZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TG9hZGluZy4uLjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBheVBhbEJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcj17Y3JlYXRlT3JkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25BcHByb3ZlPXtvbkFwcHJvdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17b25FcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9QYXlQYWxCdXR0b25zPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xvYWRpbmdQYXkgJiYgPGRpdj5Mb2FkaW5nLi4uPC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L0xheW91dD5cbiAgICApO1xufVxuXG5PcmRlclNjcmVlbi5hdXRoID0gdHJ1ZTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyU2NyZWVuOyJdLCJuYW1lcyI6WyJheGlvcyIsIkltYWdlIiwiTGluayIsInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZVJlZHVjZXIiLCJMYXlvdXQiLCJnZXRFcnJvciIsIlBheVBhbEJ1dHRvbnMiLCJyZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwibG9hZGluZyIsImVycm9yIiwib3JkZXIiLCJwYXlsb2FkIiwiT3JkZXJTY3JlZW4iLCJxdWVyeSIsIm9yZGVySWQiLCJpZCIsImRpc3BhdGNoIiwiZmV0Y2hPcmRlciIsImRhdGEiLCJnZXQiLCJlcnIiLCJfaWQiLCJzaGlwcGluZ0FkZHJlc3MiLCJwYXltZW50TWV0aG9kIiwib3JkZXJJdGVtcyIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiaXNQYWlkIiwicGFpZEF0IiwiaXNEZWxpdmVyZWQiLCJkZWxpdmVyZWRBdCIsInRpdGxlIiwiaDEiLCJjbGFzc05hbWUiLCJkaXYiLCJoMiIsImZ1bGxOYW1lIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJtYXAiLCJpdGVtIiwidGQiLCJocmVmIiwic2x1ZyIsInNyYyIsImltYWdlIiwiYWx0IiwibmFtZSIsIndpZHRoIiwiaGVpZ2h0IiwicXVhbnRpdHkiLCJwcmljZSIsInVsIiwibGkiLCJpc1BlbmRpbmciLCJjcmVhdGVPcmRlciIsIm9uQXBwcm92ZSIsIm9uRXJyb3IiLCJsb2FkaW5nUGF5IiwiYXV0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/order/[id].jsx\n"));

/***/ })

});